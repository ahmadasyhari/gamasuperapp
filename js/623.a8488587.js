"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[623],{4623:(a,n,e)=>{e.r(n),e.d(n,{default:()=>k});var t=e(124),r=e(3144),u=e(8534),l=(e(1249),e(8309),e(2564),e(6252)),o=e(2262),i=e(3577),c=e(86),s=e(6100),d=e(5856),f=function(a){return(0,l.dD)("data-v-aa3a9dc4"),a=a(),(0,l.Cn)(),a},m=f((function(){return(0,l._)("h2",null,"Daftar Mata Pelajaran",-1)})),p=f((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Mata Pelajaran"),(0,l._)("th",null,"Aksi")])],-1)}));const v={__name:"TambahMatePelajaran",setup:function(a){var n=(0,s.ad)(d.H),e=(0,o.iH)(""),f=(0,o.iH)([]),v=(0,o.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),w=(0,o.iH)(!1),h=(0,o.iH)(""),k=(0,o.iH)(""),U=function(){var a=(0,u.Z)((0,t.Z)().mark((function a(){var e;return(0,t.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,s.PL)((0,s.hJ)(n,"mataPelajaran"));case 3:e=a.sent,f.value=e.docs.map((function(a){return(0,r.Z)({id:a.id},a.data())})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error fetching subjects:",a.t0),g("Terjadi kesalahan saat mengambil data mata pelajaran.","danger");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),_=function(){var a=(0,u.Z)((0,t.Z)().mark((function a(){return(0,t.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.value){a.next=3;break}return g("Nama mata pelajaran tidak boleh kosong","danger"),a.abrupt("return");case 3:return a.prev=3,a.next=6,(0,s.ET)((0,s.hJ)(n,"mataPelajaran"),{name:e.value,createdAt:(0,s.Bt)()});case 6:g("Mata pelajaran berhasil ditambahkan","success"),e.value="",U(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](3),console.error("Error adding subject:",a.t0),g("Terjadi kesalahan saat menambahkan mata pelajaran","danger");case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(){return a.apply(this,arguments)}}(),b=function(a){h.value=a.name,k.value=a.id,w.value=!0},W=function(){w.value=!1,h.value="",k.value=""},j=function(){var a=(0,u.Z)((0,t.Z)().mark((function a(){return(0,t.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(h.value){a.next=3;break}return g("Nama mata pelajaran tidak boleh kosong","danger"),a.abrupt("return");case 3:return a.prev=3,a.next=6,(0,s.r7)((0,s.JU)(n,"mataPelajaran",k.value),{name:h.value});case 6:g("Mata pelajaran berhasil diperbarui","success"),W(),U(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](3),console.error("Error updating subject:",a.t0),g("Terjadi kesalahan saat memperbarui mata pelajaran","danger");case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(){return a.apply(this,arguments)}}(),S=function(){var a=(0,u.Z)((0,t.Z)().mark((function a(e){return(0,t.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,s.oe)((0,s.JU)(n,"mataPelajaran",e));case 3:g("Mata pelajaran berhasil dihapus","success"),U(),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error deleting subject:",a.t0),g("Terjadi kesalahan saat menghapus mata pelajaran","danger");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(n){return a.apply(this,arguments)}}(),g=function(a,n){v.value={isOpen:!0,message:a,duration:2e3,color:n}},x=function(a){setTimeout((function(){U(),a.target.complete()}),2e3)};return(0,l.bv)((function(){U()})),function(a,n){var t=(0,l.up)("ion-buttons");return(0,l.wg)(),(0,l.j4)((0,o.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,o.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(c.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.nJ),{slot:"fixed",onIonRefresh:n[0]||(n[0]=function(a){return x(a)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Wo))]})),_:1}),(0,l.Wm)((0,o.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,o.SU)(c.pK),{modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=function(a){return e.value=a}),placeholder:"Masukkan nama mata pelajaran"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,o.SU)(c.YG),{expand:"block",onClick:_,style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,o.SU)(c.jY),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.wI),null,{default:(0,l.w5)((function(){return[m,(0,l._)("table",null,[p,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.value,(function(a){return(0,l.wg)(),(0,l.iD)("tr",{key:a.id},[(0,l._)("td",null,(0,i.zw)(a.name),1),(0,l._)("td",null,[(0,l.Wm)((0,o.SU)(c.YG),{color:"warning",onClick:function(n){return b(a)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit")]})),_:2},1032,["onClick"]),(0,l.Wm)((0,o.SU)(c.YG),{color:"danger",onClick:function(n){return S(a.id)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Hapus")]})),_:2},1032,["onClick"])])])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(c.ki),{"is-open":w.value,onDidDismiss:W},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit Mata Pelajaran")]})),_:1}),(0,l.Wm)(t,{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.YG),{onClick:W},{default:(0,l.w5)((function(){return[(0,l.Uk)("Close")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(c.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(c.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,o.SU)(c.pK),{modelValue:h.value,"onUpdate:modelValue":n[2]||(n[2]=function(a){return h.value=a})},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,o.SU)(c.YG),{expand:"block",onClick:j},{default:(0,l.w5)((function(){return[(0,l.Uk)("Simpan Perubahan")]})),_:1})]})),_:1})]})),_:1},8,["is-open"]),(0,l.Wm)((0,o.SU)(c.Px),{"is-open":v.value.isOpen,message:v.value.message,duration:v.value.duration,color:v.value.color,onDidDismiss:n[3]||(n[3]=function(){return v.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var w=e(3744);const h=(0,w.Z)(v,[["__scopeId","data-v-aa3a9dc4"]]),k=h}}]);
//# sourceMappingURL=623.a8488587.js.map