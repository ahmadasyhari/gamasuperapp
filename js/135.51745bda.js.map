{"version":3,"file":"js/135.51745bda.js","mappings":"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","sources":["webpack://resep-bunda/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://resep-bunda/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://resep-bunda/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://resep-bunda/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://resep-bunda/./src/views/admin/LaporanIzin.vue","webpack://resep-bunda/./src/views/admin/LaporanIzin.vue?53de"],"sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Informasi Pengajuan Izin</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content :fullscreen=\"true\">\r\n      <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\r\n        <ion-refresher-content />\r\n      </ion-refresher>\r\n      <ion-content class=\"ion-padding\">\r\n        <ion-item>\r\n          <ion-label>Search by Name</ion-label>\r\n          <ion-input\r\n            v-model=\"searchQuery\"\r\n            placeholder=\"Enter name to search\"\r\n          ></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label>Bulan</ion-label>\r\n          <ion-select v-model=\"selectedMonth\" placeholder=\"Pilih Bulan\">\r\n            <ion-select-option\r\n              v-for=\"month in months\"\r\n              :key=\"month.value\"\r\n              :value=\"month.value\"\r\n              >{{ month.label }}</ion-select-option\r\n            >\r\n          </ion-select>\r\n        </ion-item>\r\n        <ion-button style=\"color: white\" expand=\"block\" @click=\"filterIzin\"\r\n          >Search</ion-button\r\n        >\r\n        <ion-grid>\r\n          <ion-row>\r\n            <ion-col>\r\n              <h2>Daftar Pengajuan Izin</h2>\r\n              <ion-list>\r\n                <ion-item v-for=\"izin in filteredIzin\" :key=\"izin.id\">\r\n                  <ion-label>\r\n                    <h3>{{ izin.fullName }} - {{ izin.role }}</h3>\r\n                    <p>Status: {{ izin.izinStatus }}</p>\r\n                    <p>Durasi: {{ izin.durasi }} hari</p>\r\n                    <p>Keterangan: {{ izin.keterangan }}</p>\r\n                    <p>Dari: {{ formatDate(izin.startDate) }}</p>\r\n                    <p>Sampai: {{ formatDate(izin.endDate) }}</p>\r\n                    <p>Status Admin: {{ izin.status }}</p>\r\n                    <p>Keterangan Admin: {{ izin.keteranganStatus }}</p>\r\n                  </ion-label>\r\n                  <ion-button\r\n                    color=\"success\"\r\n                    @click=\"openModal(izin.id, 'disetujui')\"\r\n                    >Setujui</ion-button\r\n                  >\r\n                  <ion-button\r\n                    color=\"danger\"\r\n                    @click=\"openModal(izin.id, 'ditolak')\"\r\n                    >Tolak</ion-button\r\n                  >\r\n                </ion-item>\r\n              </ion-list>\r\n              <ion-button expand=\"block\" @click=\"loadMore\" v-if=\"showLoadMore\"\r\n                >Load More</ion-button\r\n              >\r\n            </ion-col>\r\n          </ion-row>\r\n        </ion-grid>\r\n        <ion-button\r\n          style=\"color: white\"\r\n          expand=\"block\"\r\n          @click=\"exportFilteredToExcel\"\r\n          >Export Laporan Sakit</ion-button\r\n        >\r\n      </ion-content>\r\n\r\n      <ion-toast\r\n        :is-open=\"toast.isOpen\"\r\n        :message=\"toast.message\"\r\n        :duration=\"toast.duration\"\r\n        :color=\"toast.color\"\r\n        @did-dismiss=\"() => (toast.isOpen = false)\"\r\n      ></ion-toast>\r\n\r\n      <ion-modal :is-open=\"isModalOpen\" @did-dismiss=\"closeModal\">\r\n        <ion-header>\r\n          <ion-toolbar>\r\n            <ion-title>Ubah Status Izin</ion-title>\r\n            <ion-buttons slot=\"end\">\r\n              <ion-button @click=\"closeModal\">Close</ion-button>\r\n            </ion-buttons>\r\n          </ion-toolbar>\r\n        </ion-header>\r\n        <ion-content>\r\n          <ion-item>\r\n            <ion-label>Keterangan</ion-label>\r\n            <ion-textarea\r\n              v-model=\"keteranganStatus\"\r\n              placeholder=\"Masukkan keterangan\"\r\n            ></ion-textarea>\r\n          </ion-item>\r\n          <ion-button expand=\"block\" @click=\"ubahStatus\">Simpan</ion-button>\r\n        </ion-content>\r\n      </ion-modal>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n<script setup>\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonBackButton,\r\n  IonContent,\r\n  IonRefresher,\r\n  IonRefresherContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonInput,\r\n  IonTextarea,\r\n  IonButton,\r\n  IonList,\r\n  IonToast,\r\n  IonCol,\r\n  IonRow,\r\n  IonGrid,\r\n  IonModal,\r\n  IonButtons,\r\n} from \"@ionic/vue\";\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  updateDoc,\r\n  getDocs,\r\n  collection,\r\n  query,\r\n  where,\r\n  limit,\r\n  startAfter,\r\n} from \"firebase/firestore\";\r\nimport { firebaseApp } from \"../firebase.js\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nconst auth = getAuth(firebaseApp);\r\nconst db = getFirestore(firebaseApp);\r\n\r\nconst daftarIzin = ref([]);\r\nconst toast = ref({\r\n  isOpen: false,\r\n  message: \"\",\r\n  duration: 2000,\r\n  color: \"success\",\r\n});\r\nconst isModalOpen = ref(false);\r\nconst keteranganStatus = ref(\"\");\r\nconst selectedIzinId = ref(\"\");\r\nconst selectedStatus = ref(\"\");\r\nconst searchQuery = ref(\"\");\r\nconst izinPerPage = ref(10);\r\nconst lastVisible = ref(null);\r\nconst showLoadMore = ref(false);\r\nconst selectedMonth = ref(\"\");\r\nconst months = [\r\n  { value: 0, label: \"January\" },\r\n  { value: 1, label: \"February\" },\r\n  { value: 2, label: \"March\" },\r\n  { value: 3, label: \"April\" },\r\n  { value: 4, label: \"May\" },\r\n  { value: 5, label: \"June\" },\r\n  { value: 6, label: \"July\" },\r\n  { value: 7, label: \"August\" },\r\n  { value: 8, label: \"September\" },\r\n  { value: 9, label: \"October\" },\r\n  { value: 10, label: \"November\" },\r\n  { value: 11, label: \"December\" },\r\n];\r\n\r\nconst filteredIzin = computed(() => {\r\n  return daftarIzin.value\r\n    .filter((izin) => {\r\n      const fullNameMatches = izin.fullName\r\n        .toLowerCase()\r\n        .includes(searchQuery.value.toLowerCase());\r\n      const izinMonth = izin.startDate\r\n        ? izin.startDate.toDate().getMonth()\r\n        : null;\r\n      const monthMatches =\r\n        selectedMonth.value === \"\" || izinMonth === selectedMonth.value;\r\n\r\n      return fullNameMatches && monthMatches;\r\n    })\r\n    .slice(0, izinPerPage.value);\r\n});\r\n\r\nconst fetchIzinData = async (reset = false) => {\r\n  let q;\r\n  if (reset) {\r\n    q = query(\r\n      collection(db, \"izin\"),\r\n      where(\"fullName\", \">=\", searchQuery.value),\r\n      where(\"fullName\", \"<=\", searchQuery.value + \"\\uf8ff\"),\r\n      limit(izinPerPage.value)\r\n    );\r\n  } else {\r\n    q = query(\r\n      collection(db, \"izin\"),\r\n      where(\"fullName\", \">=\", searchQuery.value),\r\n      where(\"fullName\", \"<=\", searchQuery.value + \"\\uf8ff\"),\r\n      startAfter(lastVisible.value),\r\n      limit(izinPerPage.value)\r\n    );\r\n  }\r\n\r\n  try {\r\n    const querySnapshot = await getDocs(q);\r\n    const newIzin = querySnapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n      startDate: doc.data().startDate,\r\n      endDate: doc.data().endDate,\r\n    }));\r\n\r\n    if (reset) {\r\n      daftarIzin.value = newIzin;\r\n    } else {\r\n      daftarIzin.value.push(...newIzin);\r\n    }\r\n\r\n    lastVisible.value = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n    showLoadMore.value = querySnapshot.docs.length === izinPerPage.value;\r\n\r\n    console.log(\"Data izin berhasil diambil:\", daftarIzin.value);\r\n  } catch (error) {\r\n    console.error(\"Error fetching izin data:\", error);\r\n    showToast(\"Terjadi kesalahan saat mengambil data izin\", \"danger\");\r\n  }\r\n};\r\n\r\nconst filterIzin = () => {\r\n  fetchIzinData(true);\r\n};\r\n\r\nconst loadMore = () => {\r\n  fetchIzinData();\r\n};\r\n\r\nconst openModal = (izinId, status) => {\r\n  selectedIzinId.value = izinId;\r\n  selectedStatus.value = status;\r\n  isModalOpen.value = true;\r\n};\r\n\r\nconst closeModal = () => {\r\n  isModalOpen.value = false;\r\n  keteranganStatus.value = \"\";\r\n  selectedIzinId.value = \"\";\r\n  selectedStatus.value = \"\";\r\n};\r\n\r\nconst ubahStatus = async () => {\r\n  try {\r\n    await updateDoc(doc(db, \"izin\", selectedIzinId.value), {\r\n      status: selectedStatus.value,\r\n      keteranganStatus: keteranganStatus.value,\r\n    });\r\n    showToast(\r\n      `Status pengajuan izin berhasil diubah menjadi ${selectedStatus.value}`,\r\n      \"success\"\r\n    );\r\n    fetchIzinData(true); // Refresh the izin data after updating status\r\n    closeModal(); // Close the modal after saving\r\n  } catch (error) {\r\n    console.error(\"Error updating izin status:\", error);\r\n    showToast(\"Terjadi kesalahan saat mengubah status izin\", \"danger\");\r\n  }\r\n};\r\n\r\nconst doRefresh = (event) => {\r\n  setTimeout(() => {\r\n    fetchIzinData(true);\r\n    event.target.complete();\r\n  }, 2000);\r\n};\r\n\r\nconst showToast = (message, color) => {\r\n  toast.value = {\r\n    isOpen: true,\r\n    message: message,\r\n    duration: 2000,\r\n    color: color,\r\n  };\r\n};\r\n\r\nconst formatDate = (timestamp) => {\r\n  if (!timestamp) return \"N/A\";\r\n  const date = timestamp.toDate();\r\n  const day = date.getDate().toString().padStart(2, \"0\");\r\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\r\n  const year = date.getFullYear();\r\n  return `${day}/${month}/${year}`;\r\n};\r\n\r\nconst exportFilteredToExcel = () => {\r\n  const izinData = filteredIzin.value.filter(\r\n    (izin) => izin.izinStatus === \"sakit\" || izin.izinStatus === \"izin\"\r\n  );\r\n\r\n  if (izinData.length === 0) {\r\n    showToast(\r\n      \"Tidak ada data izin atau sakit untuk bulan yang dipilih\",\r\n      \"warning\"\r\n    );\r\n    return;\r\n  }\r\n\r\n  const exportData = izinData.map((izin) => ({\r\n    fullName: izin.fullName,\r\n    role: izin.role,\r\n    izinStatus: izin.izinStatus,\r\n    durasi: izin.durasi,\r\n    keterangan: izin.keterangan,\r\n    fromDate: formatDate(izin.startDate),\r\n    toDate: formatDate(izin.endDate),\r\n    status: izin.status,\r\n    keteranganStatus: izin.keteranganStatus,\r\n  }));\r\n\r\n  const worksheet = XLSX.utils.json_to_sheet(exportData);\r\n  const workbook = XLSX.utils.book_new();\r\n  XLSX.utils.book_append_sheet(workbook, worksheet, \"Laporan Izin dan Sakit\");\r\n  XLSX.writeFile(workbook, \"laporan_izin_dan_sakit.xlsx\");\r\n  showToast(\"Laporan izin dan sakit berhasil diekspor\", \"success\");\r\n};\r\n\r\nonMounted(() => {\r\n  onAuthStateChanged(auth, (user) => {\r\n    if (user) {\r\n      fetchIzinData(true);\r\n    } else {\r\n      console.error(\"User not authenticated\");\r\n      showToast(\"Pengguna tidak terautentikasi\", \"danger\");\r\n    }\r\n  });\r\n});\r\n</script>\r\n\r\n<style>\r\n/* Custom styling if needed */\r\n</style>\r\n","import script from \"./LaporanIzin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LaporanIzin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LaporanIzin.vue?vue&type=style&index=0&id=5b0a0b09&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","auth","getAuth","firebaseApp","db","getFirestore","daftarIzin","ref","toast","isOpen","message","duration","color","isModalOpen","keteranganStatus","selectedIzinId","selectedStatus","searchQuery","izinPerPage","lastVisible","showLoadMore","selectedMonth","months","value","label","filteredIzin","computed","filter","izin","fullNameMatches","fullName","toLowerCase","includes","izinMonth","startDate","toDate","getMonth","monthMatches","slice","fetchIzinData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","reset","q","querySnapshot","newIzin","_daftarIzin$value","_args","arguments","wrap","_context","prev","next","length","undefined","query","collection","where","limit","startAfter","getDocs","sent","docs","map","doc","_objectSpread","id","data","endDate","push","apply","console","log","t0","error","showToast","stop","filterIzin","loadMore","openModal","izinId","status","closeModal","ubahStatus","_ref2","_callee2","_context2","updateDoc","concat","doRefresh","event","setTimeout","target","complete","formatDate","timestamp","date","day","getDate","toString","padStart","month","year","getFullYear","exportFilteredToExcel","izinData","izinStatus","exportData","role","durasi","keterangan","fromDate","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","onMounted","onAuthStateChanged","user","__exports__"],"sourceRoot":""}