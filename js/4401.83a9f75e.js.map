{"version":3,"file":"js/4401.83a9f75e.js","mappings":"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","sources":["webpack://resep-bunda/./node_modules/core-js/internals/number-parse-int.js","webpack://resep-bunda/./node_modules/core-js/modules/es.parse-int.js","webpack://resep-bunda/./src/views/guru/TryOutSnbt.vue","webpack://resep-bunda/./src/views/guru/TryOutSnbt.vue?6305"],"sourcesContent":["'use strict';\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n","'use strict';\nvar $ = require('../internals/export');\nvar $parseInt = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt !== $parseInt }, {\n  parseInt: $parseInt\n});\n","<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Buat Jadwal Try Out SNBT</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content :fullscreen=\"true\">\r\n      <ion-content class=\"ion-padding\">\r\n        <ion-input\r\n          v-model=\"judulUjian\"\r\n          type=\"text\"\r\n          placeholder=\"Masukkan judul ujian\"\r\n          @ionInput=\"handleJudulInput\"\r\n        ></ion-input>\r\n\r\n        <ion-item>\r\n          <ion-label>Tanggal Ujian</ion-label>\r\n          <ion-button style=\"color: white\" @click=\"showTanggalPicker = true\">\r\n            {{ tanggalUjian ? formatDate(tanggalUjian) : \"Pilih Tanggal\" }}\r\n          </ion-button>\r\n          <ion-datetime\r\n            v-if=\"showTanggalPicker\"\r\n            v-model=\"tanggalUjian\"\r\n            display-format=\"DD MMM YYYY\"\r\n            placeholder=\"Pilih Tanggal\"\r\n            @ionChange=\"showTanggalPicker = false\"\r\n          ></ion-datetime>\r\n        </ion-item>\r\n\r\n        <ion-item>\r\n          <ion-label>Durasi Ujian (Menit)</ion-label>\r\n          <ion-input\r\n            v-model.number=\"durasiUjian\"\r\n            type=\"number\"\r\n            placeholder=\"Masukkan durasi ujian dalam menit\"\r\n            @input=\"logDurasiUjian\"\r\n          ></ion-input>\r\n        </ion-item>\r\n\r\n        <!-- Tombol untuk membuka modal memilih soal -->\r\n        <ion-item>\r\n          <ion-label>Pilih Soal</ion-label>\r\n          <ion-button style=\"color: white\" @click=\"showSoalModal = true\">\r\n            Pilih Soal ({{ selectedSoal.length }} soal dipilih)\r\n          </ion-button>\r\n        </ion-item>\r\n\r\n        <!-- Modal Pemilihan Soal -->\r\n        <ion-modal :is-open=\"showSoalModal\" @did-dismiss=\"closeSoalModal\">\r\n          <ion-header>\r\n            <ion-toolbar>\r\n              <ion-title>Pilih Soal</ion-title>\r\n              <ion-buttons slot=\"end\">\r\n                <ion-button @click=\"closeSoalModal\">Tutup</ion-button>\r\n              </ion-buttons>\r\n            </ion-toolbar>\r\n          </ion-header>\r\n          <ion-content>\r\n            <!-- Filter Jenis Soal -->\r\n            <ion-item>\r\n              <ion-label>Jenis Soal</ion-label>\r\n              <ion-select v-model=\"filterJenisSoal\" placeholder=\"Pilih Jenis Soal\">\r\n                <ion-select-option value=\"TPS\">TPS</ion-select-option>\r\n                <ion-select-option value=\"MM\">Penalaran Matematika</ion-select-option>\r\n                <ion-select-option value=\"LBIND\">Literasi B. Indonesia</ion-select-option>\r\n                <ion-select-option value=\"LBING\">Literasi B. Inggris</ion-select-option>\r\n              </ion-select>\r\n            </ion-item>\r\n\r\n            <!-- Daftar Soal -->\r\n            <ion-list>\r\n              <ion-item\r\n                v-for=\"soal in filteredSoal\"\r\n                :key=\"soal.id\"\r\n                button\r\n                @click=\"toggleSelectSoal(soal)\"\r\n              >\r\n              <ion-label>{{ removeHtmlTags(soal.question) }}</ion-label>\r\n                <ion-checkbox\r\n                  slot=\"start\"\r\n                  :checked=\"selectedSoal.includes(soal.id)\"\r\n                ></ion-checkbox>\r\n              </ion-item>\r\n            </ion-list>\r\n\r\n            <!-- Menampilkan jumlah soal yang dipilih berdasarkan jenis -->\r\n            <ion-item v-for=\"(count, jenis) in soalCountPerJenis\" :key=\"jenis\">\r\n              <ion-label>{{ jenis }}: {{ count }} soal dipilih</ion-label>\r\n            </ion-item>\r\n\r\n            <ion-button expand=\"block\" @click=\"closeSoalModal\" style=\"color: white; margin-bottom: 15%\">\r\n              Tutup\r\n            </ion-button>\r\n          </ion-content>\r\n        </ion-modal>\r\n\r\n        <ion-button style=\"color: white\" expand=\"block\" @click=\"buatJadwalUjian\">\r\n          Buat Jadwal Ujian\r\n        </ion-button>\r\n\r\n        <ion-grid>\r\n          <ion-row>\r\n            <ion-col>\r\n              <h2>Daftar Jadwal Ujian</h2>\r\n              <ion-list>\r\n                <ion-item>\r\n                  <ion-label>\r\n                    <table class=\"table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Tanggal</th>\r\n                          <th>Nama Ujian</th>\r\n                          <th>Durasi (Menit)</th>\r\n                          <th>Soal</th>\r\n                          <th>Aksi</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr v-for=\"jadwal in daftarJadwal\" :key=\"jadwal.id\">\r\n                          <td>{{ formatDate(jadwal.tanggalUjian) }}</td>\r\n                          <td>{{ jadwal.judulUjian }}</td>\r\n                          <td>{{ jadwal.durasi }}</td>\r\n                          <td>{{ jadwal.soalCount }}</td>\r\n                          <td>\r\n                            <ion-button\r\n                              style=\"color: white\"\r\n                              @click=\"hapusJadwal(jadwal.id)\"\r\n                              >Hapus</ion-button\r\n                            >\r\n                            <ion-button\r\n                              :color=\"jadwal.aktif ? 'danger' : 'success'\"\r\n                              @click=\"toggleAktif(jadwal.id, jadwal.aktif)\"\r\n                            >\r\n                              {{ jadwal.aktif ? \"Nonaktifkan\" : \"Aktifkan\" }}\r\n                            </ion-button>\r\n\r\n                            <ion-button @click=\"lihatHasilUjian(jadwal.id)\">Lihat Hasil Ujian</ion-button>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </ion-label>\r\n                </ion-item>\r\n              </ion-list>\r\n              <ion-button expand=\"block\" @click=\"loadMore\" v-if=\"showLoadMore\">\r\n                Load More\r\n              </ion-button>\r\n            </ion-col>\r\n          </ion-row>\r\n        </ion-grid>\r\n      </ion-content>\r\n\r\n      <ion-toast\r\n        :is-open=\"toast.isOpen\"\r\n        :message=\"toast.message\"\r\n        :duration=\"toast.duration\"\r\n        :color=\"toast.color\"\r\n        @did-dismiss=\"() => (toast.isOpen = false)\"\r\n      ></ion-toast>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\n  import {\r\n    IonInput,\r\n    IonPage,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonBackButton,\r\n    IonContent,\r\n    IonItem,\r\n    IonLabel,\r\n    IonDatetime,\r\n    IonButton,\r\n    IonGrid,\r\n    IonRow,\r\n    IonCol,\r\n    IonList,\r\n    IonToast,\r\n    IonCheckbox,\r\n    IonModal,\r\n    IonSelect,\r\n    IonSelectOption,\r\n  } from \"@ionic/vue\";\r\n  import { ref, onMounted, computed } from \"vue\";\r\n  import {\r\n    doc,\r\n    getFirestore,\r\n    collection,\r\n    getDocs,\r\n    addDoc,\r\n    deleteDoc,\r\n    updateDoc,\r\n    query,\r\n    orderBy,\r\n  } from \"firebase/firestore\";\r\n  import { firebaseApp } from \"../firebase\";\r\n  import { useRouter } from \"vue-router\";\r\n  const router = useRouter();\r\n  const lihatHasilUjian = (jadwalId) => {\r\n  router.push({ name: 'HasilUjianSnbt', params: { jadwalId } });\r\n};\r\n  const db = getFirestore(firebaseApp);\r\n\r\n  const tanggalUjian = ref(\"\");\r\n  const durasiUjian = ref(0);\r\n  const selectedSoal = ref([]); // Menyimpan soal yang dipilih\r\n  const daftarSoal = ref([]);\r\n  const daftarJadwal = ref([]);\r\n  const showTanggalPicker = ref(false);\r\n  const judulUjian = ref(\"\");\r\n  const showSoalModal = ref(false); // Modal untuk memilih soal\r\n  const filterJenisSoal = ref(\"\"); // Untuk filter jenis soal\r\n  \r\n  const removeHtmlTags = (html) => {\r\n  const doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n  };\r\n\r\n\r\n\r\n  const toast = ref({\r\n    isOpen: false,\r\n    message: \"\",\r\n    duration: 2000,\r\n    color: \"success\",\r\n  });\r\n\r\n  const fetchSoal = async () => {\r\n    try {\r\n      const querySnapshot = await getDocs(collection(db, \"soalsnbt\"));\r\n      daftarSoal.value = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Error fetching soal:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchJadwal = async () => {\r\n    try {\r\n      const querySnapshot = await getDocs(\r\n        query(collection(db, \"jadwalsnbt\"), orderBy(\"tanggalUjian\"))\r\n      );\r\n      daftarJadwal.value = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n        soalCount: doc.data().soal.length,\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Error fetching jadwal:\", error);\r\n      showToast(\"Terjadi kesalahan saat mengambil data jadwal.\", \"danger\");\r\n    }\r\n  };\r\n\r\n  const logDurasiUjian = (event) => {\r\n    durasiUjian.value = parseInt(event.target.value); // Convert to integer\r\n  };\r\n\r\n  const buatJadwalUjian = async () => {\r\n    if (\r\n      !judulUjian.value ||\r\n      !tanggalUjian.value ||\r\n      durasiUjian.value <= 0 ||\r\n      selectedSoal.value.length === 0\r\n    ) {\r\n      showToast(\"Harap lengkapi semua field.\", \"danger\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await addDoc(collection(db, \"jadwalsnbt\"), {\r\n        judulUjian: judulUjian.value,\r\n        tanggalUjian: tanggalUjian.value,\r\n        durasi: durasiUjian.value,\r\n        soal: selectedSoal.value,\r\n        aktif: true,\r\n      });\r\n      showToast(\"Jadwal ujian berhasil dibuat.\", \"success\");\r\n      resetForm();\r\n      fetchJadwal();\r\n    } catch (error) {\r\n      console.error(\"Error creating jadwal:\", error);\r\n      showToast(\"Terjadi kesalahan saat membuat jadwal ujian.\", \"danger\");\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    judulUjian.value = \"\";\r\n    tanggalUjian.value = \"\";\r\n    durasiUjian.value = 0;\r\n    selectedSoal.value = [];\r\n  };\r\n\r\n  const handleJudulInput = (event) => {\r\n    console.log(\"Judul Ujian input event:\", event.target.value);\r\n  };\r\n\r\n  const hapusJadwal = async (jadwalId) => {\r\n    try {\r\n      await deleteDoc(doc(db, \"jadwalsnbt\", jadwalId));\r\n      showToast(\"Jadwal ujian berhasil dihapus.\", \"success\");\r\n      fetchJadwal();\r\n    } catch (error) {\r\n      console.error(\"Error deleting jadwal:\", error);\r\n      showToast(\"Terjadi kesalahan saat menghapus jadwal ujian.\", \"danger\");\r\n    }\r\n  };\r\n\r\n  const toggleAktif = async (jadwalId, isActive) => {\r\n    try {\r\n      await updateDoc(doc(db, \"jadwalsnbt\", jadwalId), {\r\n        aktif: !isActive,\r\n      });\r\n      showToast(\"Status jadwal ujian berhasil diubah.\", \"success\");\r\n      fetchJadwal();\r\n    } catch (error) {\r\n      console.error(\"Error updating jadwal status:\", error);\r\n      showToast(\"Terjadi kesalahan saat mengubah status jadwal.\", \"danger\");\r\n    }\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return \"N/A\";\r\n    const d = new Date(date);\r\n    return d.toLocaleDateString(\"id-ID\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan toast\r\n  const showToast = (message, color) => {\r\n    toast.value = {\r\n      isOpen: true,\r\n      message,\r\n      duration: 2000,\r\n      color,\r\n    };\r\n  };\r\n\r\n  // Menambahkan soal ke dalam pilihan\r\n  const toggleSelectSoal = (soal) => {\r\n    if (selectedSoal.value.includes(soal.id)) {\r\n      selectedSoal.value = selectedSoal.value.filter(id => id !== soal.id); \r\n    } else {\r\n      selectedSoal.value.push(soal.id);\r\n    }\r\n  };\r\n\r\n  // Menutup modal soal\r\n  const closeSoalModal = () => {\r\n    showSoalModal.value = false;\r\n  };\r\n\r\n  // Filter soal berdasarkan jenis\r\n  const filteredSoal = computed(() => {\r\n    if (!filterJenisSoal.value) return daftarSoal.value;\r\n    return daftarSoal.value.filter((soal) => soal.jenissoal === filterJenisSoal.value);\r\n  });\r\n\r\n  // Menghitung jumlah soal per jenis\r\n  const soalCountPerJenis = computed(() => {\r\n    const counts = {};\r\n    selectedSoal.value.forEach(soalId => {\r\n      const soal = daftarSoal.value.find(s => s.id === soalId);\r\n      if (soal) {\r\n        const jenis = soal.jenissoal;\r\n        counts[jenis] = counts[jenis] ? counts[jenis] + 1 : 1;\r\n      }\r\n    });\r\n    return counts;\r\n  });\r\n\r\n  onMounted(() => {\r\n    fetchSoal();\r\n    fetchJadwal();\r\n  });\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 20px;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n.table th {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.table tbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n</style>\r\n","import script from \"./TryOutSnbt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TryOutSnbt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TryOutSnbt.vue?vue&type=style&index=0&id=0c5b1a1a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0c5b1a1a\"]])\n\nexport default __exports__"],"names":["global","fails","uncurryThis","toString","trim","whitespaces","$parseInt","parseInt","Symbol","ITERATOR","iterator","hex","exec","FORCED","Object","module","exports","string","radix","S","$","forced","router","useRouter","lihatHasilUjian","jadwalId","push","name","params","db","getFirestore","firebaseApp","tanggalUjian","ref","durasiUjian","selectedSoal","daftarSoal","daftarJadwal","showTanggalPicker","judulUjian","showSoalModal","filterJenisSoal","removeHtmlTags","html","doc","DOMParser","parseFromString","body","textContent","toast","isOpen","message","duration","color","fetchSoal","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","wrap","_context","prev","next","getDocs","collection","sent","value","docs","map","_objectSpread","id","data","t0","console","error","stop","apply","arguments","fetchJadwal","_ref2","_callee2","_context2","query","orderBy","soalCount","soal","length","showToast","logDurasiUjian","event","target","buatJadwalUjian","_ref3","_callee3","_context3","abrupt","addDoc","durasi","aktif","resetForm","handleJudulInput","log","hapusJadwal","_ref4","_callee4","_context4","deleteDoc","_x","toggleAktif","_ref5","_callee5","isActive","_context5","updateDoc","_x2","_x3","formatDate","date","d","Date","toLocaleDateString","year","month","day","toggleSelectSoal","includes","filter","closeSoalModal","filteredSoal","computed","jenissoal","soalCountPerJenis","counts","forEach","soalId","find","s","jenis","onMounted","__exports__"],"sourceRoot":""}