"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[7304],{4362:(e,r,n)=>{var a=n(1589),t=Math.floor,o=function(e,r){var n=e.length,l=t(n/2);return n<8?u(e,r):s(e,o(a(e,0,l),r),o(a(e,l),r),r)},u=function(e,r){var n,a,t=e.length,o=1;while(o<t){a=o,n=e[o];while(a&&r(e[a-1],n)>0)e[a]=e[--a];a!==o++&&(e[a]=n)}return e},s=function(e,r,n,a){var t=r.length,o=n.length,u=0,s=0;while(u<t||s<o)e[u+s]=u<t&&s<o?a(r[u],n[s])<=0?r[u++]:n[s++]:u<t?r[u++]:n[s++];return e};e.exports=o},5117:(e,r,n)=>{var a=n(6330),t=TypeError;e.exports=function(e,r){if(!delete e[r])throw t("Cannot delete property "+a(r)+" of "+a(e))}},8886:(e,r,n)=>{var a=n(8113),t=a.match(/firefox\/(\d+)/i);e.exports=!!t&&+t[1]},256:(e,r,n)=>{var a=n(8113);e.exports=/MSIE|Trident/.test(a)},8008:(e,r,n)=>{var a=n(8113),t=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!t&&+t[1]},2707:(e,r,n)=>{var a=n(2109),t=n(1702),o=n(9662),u=n(7908),s=n(6244),l=n(5117),c=n(1340),i=n(7293),d=n(4362),f=n(2133),p=n(8886),h=n(256),k=n(7392),v=n(8008),g=[],w=t(g.sort),m=t(g.push),S=i((function(){g.sort(void 0)})),_=i((function(){g.sort(null)})),I=f("sort"),N=!i((function(){if(k)return k<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,r,n,a,t="";for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)g.push({k:r+a,v:n})}for(g.sort((function(e,r){return r.v-e.v})),a=0;a<g.length;a++)r=g[a].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return"DGBEFHACIJK"!==t}})),T=S||!_||!I||!N,x=function(e){return function(r,n){return void 0===n?-1:void 0===r?1:void 0!==e?+e(r,n)||0:c(r)>c(n)?1:-1}};a({target:"Array",proto:!0,forced:T},{sort:function(e){void 0!==e&&o(e);var r=u(this);if(N)return void 0===e?w(r):w(r,e);var n,a,t=[],c=s(r);for(a=0;a<c;a++)a in r&&m(t,r[a]);d(t,x(e)),n=s(t),a=0;while(a<n)r[a]=t[a++];while(a<c)l(r,a++);return r}})},7304:(e,r,n)=>{n.r(r),n.d(r,{default:()=>x});var a=n(124),t=n(8534),o=(n(1249),n(2222),n(7658),n(1539),n(8783),n(3948),n(3710),n(2707),n(6252)),u=n(2262),s=n(3577),l=n(7208),c=n(6100),i=n(5856),d=n(4105),f=function(e){return(0,o.dD)("data-v-625292cf"),e=e(),(0,o.Cn)(),e},p=f((function(){return(0,o._)("h2",null,"Daftar Hasil Ujian",-1)})),h=f((function(){return(0,o._)("strong",null,"Sekolah:",-1)})),k=f((function(){return(0,o._)("strong",null,"Skor TPS:",-1)})),v=f((function(){return(0,o._)("strong",null,"Skor MM:",-1)})),g=f((function(){return(0,o._)("strong",null,"Skor LBIND:",-1)})),w=f((function(){return(0,o._)("strong",null,"Skor LBING:",-1)})),m=f((function(){return(0,o._)("strong",null,"Total Skor:",-1)})),S=f((function(){return(0,o._)("strong",null,"Rata-Rata Skor:",-1)})),_={key:1};const I={__name:"HasilUjianSnbt",props:{jadwalId:String},setup:function(e){var r=e,n=(0,c.ad)(i.H),f=(0,u.iH)([]),I=(0,u.iH)(null),N=(0,u.iH)(!0),T=(0,u.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),x=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var o,u,s,l,i,d;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,o="Jf9KAZkky7PJjXGd44vi",u=(0,c.hJ)(n,"users"),s=I.value?(0,c.IO)(u,(0,c.ar)("kelas","==",o),(0,c.TQ)(I.value),(0,c.b9)(100)):(0,c.IO)(u,(0,c.ar)("kelas","==",o),(0,c.b9)(100)),e.next=6,(0,c.PL)(s);case 6:return l=e.sent,i=[],l.docs.length>0?I.value=l.docs[l.docs.length-1]:N.value=!1,d=l.docs.map(function(){var e=(0,t.Z)((0,a.Z)().mark((function e(t){var o,u,s,l,d,f;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.id,u=t.data(),s=u.fullName||"Tidak Tersedia",l=u.schoolName||"Tidak Tersedia",console.log("Memproses userId: ".concat(o,", Nama: ").concat(s,", Sekolah: ").concat(l)),e.next=7,(0,c.QT)((0,c.JU)(n,"examResults",o,"results",r.jadwalId));case 7:d=e.sent,d.exists()&&(f=d.data(),i.push({userId:o,fullName:s,schoolName:l,scoreTPS:f.scoreTPS||0,scoreMM:f.scoreMM||0,scoreLBIND:f.scoreLBIND||0,scoreLBING:f.scoreLBING||0,totalScore:f.totalScore||0,score:f.score||0,createdAt:f.createdAt?D(f.createdAt):"Tidak tersedia"}));case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.next=12,Promise.all(d);case 12:f.value=f.value.concat(i),y(),0===i.length&&U("Tidak ada pengguna yang mengikuti ujian dengan jadwal ID ini.","warning"),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](0),console.error("Error fetching hasil ujian:",e.t0),U("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var o,u,s,l,i,d;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!I.value){e.next=22;break}return e.prev=1,o="Jf9KAZkky7PJjXGd44vi",u=(0,c.hJ)(n,"users"),s=(0,c.IO)(u,(0,c.ar)("kelas","==",o),(0,c.TQ)(I.value),(0,c.b9)(100)),e.next=7,(0,c.PL)(s);case 7:return l=e.sent,i=[],l.docs.length>0?I.value=l.docs[l.docs.length-1]:N.value=!1,d=l.docs.map(function(){var e=(0,t.Z)((0,a.Z)().mark((function e(t){var o,u,s,l,d,f;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.id,u=t.data(),s=u.fullName||"Tidak Tersedia",l=u.schoolName||"Tidak Tersedia",console.log("Memproses userId: ".concat(o,", Nama: ").concat(s,", Sekolah: ").concat(l)),e.next=7,(0,c.QT)((0,c.JU)(n,"examResults",o,"results",r.jadwalId));case 7:d=e.sent,d.exists()&&(f=d.data(),i.push({userId:o,fullName:s,schoolName:l,scoreTPS:f.scoreTPS||0,scoreMM:f.scoreMM||0,scoreLBIND:f.scoreLBIND||0,scoreLBING:f.scoreLBING||0,totalScore:f.totalScore||0,score:f.score||0,createdAt:f.createdAt?D(f.createdAt):"Tidak tersedia"}));case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.next=13,Promise.all(d);case 13:f.value=f.value.concat(i),y(),0===i.length&&U("Tidak ada data hasil ujian lebih lanjut.","warning"),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](1),console.error("Error loading more data:",e.t0),U("Terjadi kesalahan saat memuat lebih banyak data.","danger");case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}(),U=function(e,r){T.value={isOpen:!0,message:e,duration:2e3,color:r}},b=function(e){return e>=80?"green":e>=60?"orange":"red"},D=function(e){if(!e)return"N/A";var r=e.toDate?e.toDate():new Date(e);return r.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},y=function(){f.value.sort((function(e,r){return r.score-e.score}))},L=function(){var e=f.value.map((function(e,r){return{No:r+1,"Nama Lengkap":e.fullName,Sekolah:e.schoolName,"Skor TPS":e.scoreTPS||0,"Skor MM":e.scoreMM||0,"Skor LBIND":e.scoreLBIND||0,"Skor LBING":e.scoreLBING||0,"Total Skor":e.totalScore||0,"Rata-Rata Skor":e.score||0,"Tanggal Dibuat":e.createdAt?D(e.createdAt):"Tidak tersedia"}})),r=d.P6.json_to_sheet(e),n=d.P6.book_new();d.P6.book_append_sheet(n,r,"Hasil Ujian"),d.NC(n,"hasil_ujian.xlsx")};return(0,o.bv)((function(){x()})),function(e,n){return(0,o.wg)(),(0,o.j4)((0,u.SU)(l._i),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,u.SU)(l.Gu),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,u.SU)(l.sr),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,u.SU)(l.wd),null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Hasil Ujian: "+(0,s.zw)(r.jadwalId),1)]})),_:1}),(0,o.Wm)((0,u.SU)(l.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,o.Wm)((0,u.SU)(l.W2),{class:"ion-padding"},{default:(0,o.w5)((function(){return[p,(0,o.Wm)((0,u.SU)(l.YG),{expand:"full",onClick:L},{default:(0,o.w5)((function(){return[(0,o.Uk)("Ekspor ke Excel")]})),_:1}),f.value.length>0?((0,o.wg)(),(0,o.j4)((0,u.SU)(l.q_),{key:0},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.value,(function(e,r){return(0,o.wg)(),(0,o.j4)((0,u.SU)(l.Ie),{key:e.userId},{default:(0,o.w5)((function(){return[(0,o.Wm)((0,u.SU)(l.Q$),null,{default:(0,o.w5)((function(){return[(0,o._)("h3",null,(0,s.zw)(r+1)+". "+(0,s.zw)(e.fullName),1),(0,o._)("p",null,[h,(0,o.Uk)(" "+(0,s.zw)(e.schoolName),1)]),(0,o._)("p",null,[k,(0,o.Uk)(" "+(0,s.zw)(e.scoreTPS||0),1)]),(0,o._)("p",null,[v,(0,o.Uk)(" "+(0,s.zw)(e.scoreMM||0),1)]),(0,o._)("p",null,[g,(0,o.Uk)(" "+(0,s.zw)(e.scoreLBIND||0),1)]),(0,o._)("p",null,[w,(0,o.Uk)(" "+(0,s.zw)(e.scoreLBING||0),1)]),(0,o._)("p",null,[m,(0,o._)("span",{style:(0,s.j5)({color:b(e.totalScore)})},(0,s.zw)(e.totalScore),5)]),(0,o._)("p",null,[S,(0,o._)("span",{style:(0,s.j5)({color:b(e.score)})},(0,s.zw)(e.score),5)]),(0,o._)("p",null,"Dibuat pada: "+(0,s.zw)(e.createdAt?D(e.createdAt):"Tidak tersedia"),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})):((0,o.wg)(),(0,o.iD)("p",_,"Tidak ada pengguna yang mengikuti ujian dengan jadwal ID ini.")),N.value?((0,o.wg)(),(0,o.j4)((0,u.SU)(l.YG),{key:2,expand:"full",onClick:j},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Muat Lebih Banyak ")]})),_:1})):(0,o.kq)("",!0),(0,o.Wm)((0,u.SU)(l.Px),{"is-open":T.value.isOpen,message:T.value.message,duration:T.value.duration,color:T.value.color,onDidDismiss:n[0]||(n[0]=function(){return T.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var N=n(3744);const T=(0,N.Z)(I,[["__scopeId","data-v-625292cf"]]),x=T}}]);
//# sourceMappingURL=7304.670cdfab.js.map