"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[634],{5634:(n,e,t)=>{t.r(e),t.d(e,{default:()=>h});var u=t(124),a=t(3144),l=t(8534),r=(t(1249),t(7327),t(1539),t(3710),t(2564),t(8309),t(6252)),o=t(2262),i=t(3577),c=t(86),s=t(6100),f=t(5856),d=t(4105),m=function(n){return(0,r.dD)("data-v-14a76bec"),n=n(),(0,r.Cn)(),n},w=m((function(){return(0,r._)("h2",null,"Daftar Hasil Ujian",-1)})),_=m((function(){return(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Nama Siswa"),(0,r._)("th",null,"Kelas"),(0,r._)("th",null,"Mata Pelajaran"),(0,r._)("th",null,"Nilai"),(0,r._)("th",null,"Tanggal")])],-1)}));const v={__name:"LihatNilai",setup:function(n){var e=(0,s.ad)(f.H),t=(0,o.iH)([]),m=(0,o.iH)([]),v=(0,o.iH)([]),p=(0,o.iH)(""),U=(0,o.iH)(""),h=(0,o.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),S=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){var l,r;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.hJ)(e,"nilaiUjian"));case 3:l=n.sent,r=l.docs.map((function(n){return(0,a.Z)({id:n.id},n.data())})),t.value=r,console.log("Hasil ujian:",t.value),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error("Error fetching exam results:",n.t0),H("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),k=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){var t;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"kelas"));case 2:t=n.sent,m.value=t.docs.map((function(n){return(0,a.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){var t;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"mataPelajaran"));case 2:t=n.sent,v.value=t.docs.map((function(n){return(0,a.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),g=(0,r.Fl)((function(){return t.value.filter((function(n){var e=!p.value||n.kelasName===p.value,t=!U.value||n.mataPelajaranName===U.value;return e&&t}))})),j=function(){console.log("Filter applied")},b=function(n){if(!n)return"N/A";var e=new Date(1e3*n.seconds);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},x=function(){var n=d.P6.json_to_sheet(g.value),e=d.P6.book_new();d.P6.book_append_sheet(e,n,"Hasil Ujian"),d.NC(e,"hasil_ujian.xlsx")},H=function(n,e){h.value={isOpen:!0,message:n,duration:2e3,color:e}},P=function(n){setTimeout((function(){S(),n.target.complete()}),2e3)};return(0,r.bv)((function(){S(),k(),W()})),function(n,e){return(0,r.wg)(),(0,r.j4)((0,o.SU)(c._i),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Gu),{mode:"ios"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.sr),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.wd),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Hasil Ujian")]})),_:1}),(0,r.Wm)((0,o.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,r.Wm)((0,o.SU)(c.W2),{fullscreen:!0},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return P(n)})},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Wo))]})),_:1}),(0,r.Wm)((0,o.SU)(c.W2),{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Filter Kelas")]})),_:1}),(0,r.Wm)((0,o.SU)(c.t9),{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return p.value=n}),onIonChange:j},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.n0),{value:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("Semua Kelas")]})),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value,(function(n){return(0,r.wg)(),(0,r.j4)((0,o.SU)(c.n0),{key:n.id,value:n.name},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,i.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,o.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Filter Mata Pelajaran")]})),_:1}),(0,r.Wm)((0,o.SU)(c.t9),{modelValue:U.value,"onUpdate:modelValue":e[2]||(e[2]=function(n){return U.value=n}),onIonChange:j},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.n0),{value:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("Semua Mata Pelajaran")]})),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(v.value,(function(n){return(0,r.wg)(),(0,r.j4)((0,o.SU)(c.n0),{key:n.id,value:n.name},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,i.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,o.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:x},{default:(0,r.w5)((function(){return[(0,r.Uk)(" Ekspor ke Excel ")]})),_:1}),(0,r.Wm)((0,o.SU)(c.jY),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Nd),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.wI),null,{default:(0,r.w5)((function(){return[w,(0,r.Wm)((0,o.SU)(c.q_),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,o.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r._)("table",null,[_,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value,(function(n){return(0,r.wg)(),(0,r.iD)("tr",{key:n.id},[(0,r._)("td",null,(0,i.zw)(n.userName),1),(0,r._)("td",null,(0,i.zw)(n.kelasName),1),(0,r._)("td",null,(0,i.zw)(n.mataPelajaranName),1),(0,r._)("td",null,[(0,r.Wm)((0,o.SU)(c.yp),{color:n.score<65?"danger":"success"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,i.zw)(n.score),1)]})),_:2},1032,["color"])]),(0,r._)("td",null,(0,i.zw)(b(n.createdAt)),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)((0,o.SU)(c.Px),{"is-open":h.value.isOpen,message:h.value.message,duration:h.value.duration,color:h.value.color,onDidDismiss:e[3]||(e[3]=function(){return h.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var p=t(3744);const U=(0,p.Z)(v,[["__scopeId","data-v-14a76bec"]]),h=U}}]);
//# sourceMappingURL=634.fd4bd89c.js.map