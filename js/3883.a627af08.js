"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[3883],{1530:(e,n,r)=>{var t=r(8710).charAt;e.exports=function(e,n,r){return n+(r?t(e,n).length:1)}},1285:(e,n,r)=>{var t=r(7908),a=r(1400),u=r(6244);e.exports=function(e){var n=t(this),r=u(n),l=arguments.length,i=a(l>1?arguments[1]:void 0,r),o=l>2?arguments[2]:void 0,c=void 0===o?r:a(o,r);while(c>i)n[i++]=e;return n}},3671:(e,n,r)=>{var t=r(9662),a=r(7908),u=r(8361),l=r(6244),i=TypeError,o=function(e){return function(n,r,o,c){t(r);var s=a(n),f=u(s),v=l(s),d=e?v-1:0,p=e?-1:1;if(o<2)while(1){if(d in f){c=f[d],d+=p;break}if(d+=p,e?d<0:v<=d)throw i("Reduce of empty array with no initial value")}for(;e?d>=0:v>d;d+=p)d in f&&(c=r(c,f[d],d,s));return c}};e.exports={left:o(!1),right:o(!0)}},7007:(e,n,r)=>{r(4916);var t=r(1470),a=r(8052),u=r(2261),l=r(7293),i=r(5112),o=r(8880),c=i("species"),s=RegExp.prototype;e.exports=function(e,n,r,f){var v=i(e),d=!l((function(){var n={};return n[v]=function(){return 7},7!==""[e](n)})),p=d&&!l((function(){var n=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return n=!0,null},r[v](""),!n}));if(!d||!p||r){var w=t(/./[v]),m=n(v,""[e],(function(e,n,r,a,l){var i=t(e),o=n.exec;return o===u||o===s.exec?d&&!l?{done:!0,value:w(n,r,a)}:{done:!0,value:i(r,n,a)}:{done:!1}}));a(String.prototype,e,m[0]),a(s,v,m[1])}f&&o(s[v],"sham",!0)}},647:(e,n,r)=>{var t=r(1702),a=r(7908),u=Math.floor,l=t("".charAt),i=t("".replace),o=t("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,r,t,f,v){var d=r+e.length,p=t.length,w=s;return void 0!==f&&(f=a(f),w=c),i(v,w,(function(a,i){var c;switch(l(i,0)){case"$":return"$";case"&":return e;case"`":return o(n,0,r);case"'":return o(n,d);case"<":c=f[o(i,1,-1)];break;default:var s=+i;if(0===s)return a;if(s>p){var v=u(s/10);return 0===v?a:v<=p?void 0===t[v-1]?l(i,1):t[v-1]+l(i,1):a}c=t[s-1]}return void 0===c?"":c}))}},7651:(e,n,r)=>{var t=r(6916),a=r(9670),u=r(614),l=r(4326),i=r(2261),o=TypeError;e.exports=function(e,n){var r=e.exec;if(u(r)){var c=t(r,e,n);return null!==c&&a(c),c}if("RegExp"===l(e))return t(i,e,n);throw o("RegExp#exec called on incompatible receiver")}},3290:(e,n,r)=>{var t=r(2109),a=r(1285),u=r(1223);t({target:"Array",proto:!0},{fill:a}),u("fill")},5827:(e,n,r)=>{var t=r(2109),a=r(3671).left,u=r(2133),l=r(7392),i=r(5268),o=!i&&l>79&&l<83,c=o||!u("reduce");t({target:"Array",proto:!0,forced:c},{reduce:function(e){var n=arguments.length;return a(this,e,n,n>1?arguments[1]:void 0)}})},5306:(e,n,r)=>{var t=r(2104),a=r(6916),u=r(1702),l=r(7007),i=r(7293),o=r(9670),c=r(614),s=r(8554),f=r(9303),v=r(7466),d=r(1340),p=r(4488),w=r(1530),m=r(8173),g=r(647),k=r(7651),h=r(5112),U=h("replace"),x=Math.max,S=Math.min,_=u([].concat),b=u([].push),W=u("".indexOf),y=u("".slice),H=function(e){return void 0===e?e:String(e)},j=function(){return"$0"==="a".replace(/./,"$0")}(),D=function(){return!!/./[U]&&""===/./[U]("a","$0")}(),I=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));l("replace",(function(e,n,r){var u=D?"$":"$0";return[function(e,r){var t=p(this),u=s(e)?void 0:m(e,U);return u?a(u,e,t,r):a(n,d(t),e,r)},function(e,a){var l=o(this),i=d(e);if("string"==typeof a&&-1===W(a,u)&&-1===W(a,"$<")){var s=r(n,l,i,a);if(s.done)return s.value}var p=c(a);p||(a=d(a));var m,h=l.global;h&&(m=l.unicode,l.lastIndex=0);var U,j=[];while(1){if(U=k(l,i),null===U)break;if(b(j,U),!h)break;var D=d(U[0]);""===D&&(l.lastIndex=w(i,v(l.lastIndex),m))}for(var I="",Z=0,$=0;$<j.length;$++){U=j[$];for(var C,A=d(U[0]),q=x(S(f(U.index),i.length),0),G=[],E=1;E<U.length;E++)b(G,H(U[E]));var M=U.groups;if(p){var P=_([A],G,q,i);void 0!==M&&b(P,M),C=d(t(a,void 0,P))}else C=g(A,i,q,G,M,a);q>=Z&&(I+=y(i,Z,q)+C,Z=q+A.length)}return I+y(i,Z)}]}),!I||!j||D)},3883:(e,n,r)=>{r.r(n),r.d(n,{default:()=>b});var t=r(3144),a=r(124),u=r(8534),l=(r(4916),r(5306),r(2222),r(3112),r(6647),r(3710),r(1539),r(9714),r(7327),r(1249),r(6699),r(2023),r(3290),r(2564),r(5827),r(7658),r(6252)),i=r(2262),o=r(3577),c=r(86),s=r(6100),f=r(2201),v=r(316),d=r(5856),p={key:0},w={key:0},m={class:"timer-badge"},g=["innerHTML"],k={key:0},h={key:1},U=["src"],x={class:"options"};const S={__name:"UjianKedinasanDetail",setup:function(e){var n=(0,s.ad)(d.H),r=(0,v.v0)(d.H),S=(0,f.yj)(),_=(0,f.tv)(),b=(0,i.iH)(S.params.jadwalId),W=(0,i.iH)([]),y=(0,i.iH)(0),H=(0,i.iH)([]),j=(0,i.iH)(0),D=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),I=(0,i.iH)(0),Z=(0,i.iH)(null),$=(0,i.iH)(!1),C=(0,i.iH)(!1),A=(0,i.iH)(!1),q=0,G=function(){console.log("Navigating to Explanation Page with jadwalId:",b.value),_.replace({name:"explanation",params:{jadwalId:b.value}})},E=function(e){var n=Math.floor(e/60),r=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},M=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t,u;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=12;break}return e.prev=2,e.next=5,(0,s.QT)((0,s.JU)(n,"examResults/".concat(t.uid,"/results"),b.value));case 5:u=e.sent,u.exists()&&(j.value=u.data().score,$.value=!0,A.value=!0),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error checking exam status:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var u,l,i,o,c;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=r.currentUser,!u){e.next=32;break}if(b.value){e.next=5;break}return console.error("jadwalId is undefined"),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,s.QT)((0,s.JU)(n,"jadwalkedinasan",b.value));case 8:if(l=e.sent,!l.exists()){e.next=24;break}return i=l.data(),e.next=13,(0,s.PL)((0,s.hJ)(n,"soalkedinasan"));case 13:return o=e.sent,W.value=o.docs.map((function(e){return(0,t.Z)({id:e.id},e.data())})).filter((function(e){return i.soal&&i.soal.includes(e.id)})),q=60*i.durasi,I.value=q,e.next=19,(0,s.QT)((0,s.JU)(n,"examResults/".concat(u.uid,"/answers"),b.value));case 19:c=e.sent,c.exists()?H.value=c.data().answers||new Array(W.value.length).fill(""):H.value=new Array(W.value.length).fill(""),Y(),e.next=25;break;case 24:console.error("Dokumen jadwal tidak ditemukan di koleksi 'jadwalkedinasan'.");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](5),console.error("Error fetching documents:",e.t0);case 30:e.next=33;break;case 32:console.error("User is not authenticated");case 33:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=12;break}return e.prev=2,e.next=5,(0,s.pl)((0,s.JU)(n,"examResults/".concat(t.uid,"/answers"),b.value),{answers:H.value,updatedAt:(0,s.Bt)()});case 5:B("Jawaban disimpan!","success"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),console.error("Error saving answers:",e.t0),B("Gagal menyimpan jawaban.","danger");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){C.value=!0},O=function(){C.value=!1},R=function(e){e>=0&&e<W.value.length?(y.value=e,O()):console.error("Invalid question index:",e)},Y=function(){Z.value=setInterval((function(){I.value>0?I.value--:(clearInterval(Z.value),K())}),1e3)},J=function(){y.value=0,H.value=new Array(W.value.length).fill(""),I.value=q,$.value=!1,clearInterval(Z.value),Y()},z=function(){y.value<W.value.length-1?y.value++:K()},K=function(){F(),A.value=!0,$.value=!0},F=function(){var e=W.value.reduce((function(e,n,r){return n.correctAnswer===H.value[r]?e+1:e}),0);j.value=5*e},L=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=13;break}return e.prev=2,e.next=5,(0,s.pl)((0,s.JU)(n,"examResults/".concat(t.uid,"/results"),b.value),{userId:t.uid,jadwalId:b.value,score:j.value,createdAt:(0,s.Bt)()});case 5:B("Nilai berhasil disimpan!","success"),_.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error saving score:",e.t0),B("Gagal menyimpan nilai.","danger");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Q=function(e){H.value[y.value]=e,T()},B=function(e,n){D.value={isOpen:!0,message:e,duration:2e3,color:n}};(0,l.bv)((function(){M(),P()})),(0,l.m0)((function(){M()}));var X=function(){_.push("/")};return function(e,n){var r=(0,l.up)("center"),t=(0,l.up)("ion-spinner");return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Halaman TO Kedinasan")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0,class:"exam-page"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.PM),{style:{"background-color":"#faf8f2"}},{default:(0,l.w5)((function(){return[W.value.length>0&&!e.loading?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(r,null,{default:(0,l.w5)((function(){return[$.value?((0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:0,class:"ion-text-center"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l._)("p",null,[(0,l.Uk)("Nilai Anda: "),(0,l._)("strong",null,(0,o.zw)(j.value),1)]),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"success",onClick:X,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Kembali ke Halaman Utama ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"warning",onClick:J,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" TO Ulang ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"danger",onClick:G,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Lihat Pembahasan ")]})),_:1})]})),_:1})]})),_:1})):(0,l.kq)("",!0)]})),_:1})])):(0,l.kq)("",!0),e.loading?((0,l.wg)(),(0,l.j4)(t,{key:1,name:"crescent"})):(0,l.kq)("",!0)]})),_:1}),!$.value&&y.value<W.value.length?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:N},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Pilih Soal ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.PM),null,{default:(0,l.w5)((function(){return[(0,l._)("div",m,[(0,l.Wm)((0,i.SU)(c.yp),{style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(E(I.value)),1)]})),_:1})]),(0,l.Wm)((0,i.SU)(c.Zi),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l._)("div",{innerHTML:W.value[y.value].question},null,8,g)]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[W.value[y.value].imageUrl?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)((0,i.SU)(c.Xz),{src:W.value[y.value].imageUrl},null,8,["src"])])):(0,l.kq)("",!0),W.value[y.value].videoUrl?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("video",{src:W.value[y.value].videoUrl,controls:""},null,8,U)])):(0,l.kq)("",!0)]})),_:1})]})),_:1}),(0,l._)("div",x,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.value[y.value].options,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:n,onClick:function(e){return Q(n)},class:(0,o.C_)({selected:H.value[y.value]===n})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["onClick","class"])})),128))]),(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:z},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(y.value===W.value.length-1?"Finish":"Next"),1)]})),_:1})])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ge),{"is-open":A.value,header:"Hasil Ujian",message:"Nilai Anda: "+j.value,buttons:[{text:"OK",handler:L},{text:"Ujian Ulang",handler:J}],onDidDismiss:n[0]||(n[0]=function(){return A.value=!1})},null,8,["is-open","message","buttons"]),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":D.value.isOpen,message:D.value.message,duration:D.value.duration,color:D.value.color,onDidDismiss:n[1]||(n[1]=function(){return D.value.isOpen=!1})},null,8,["is-open","message","duration","color"]),(0,l.Wm)((0,i.SU)(c.ki),{"is-open":C.value,onDidDismiss:O},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Pilih Soal")]})),_:1}),(0,l.Wm)((0,i.SU)(c.Sm),{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.YG),{onClick:O},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tutup")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.q_),null,{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.value,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.Ie),{key:n,onClick:function(e){return R(n)}},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Soal "+(0,o.zw)(n+1),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1},8,["is-open"])]})),_:1})]})),_:1})}}},_=S,b=_}}]);
//# sourceMappingURL=3883.a627af08.js.map