"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[3949],{1530:(e,n,r)=>{var a=r(8710).charAt;e.exports=function(e,n,r){return n+(r?a(e,n).length:1)}},1285:(e,n,r)=>{var a=r(7908),t=r(1400),u=r(6244);e.exports=function(e){var n=a(this),r=u(n),l=arguments.length,i=t(l>1?arguments[1]:void 0,r),o=l>2?arguments[2]:void 0,c=void 0===o?r:t(o,r);while(c>i)n[i++]=e;return n}},7007:(e,n,r)=>{r(4916);var a=r(1470),t=r(8052),u=r(2261),l=r(7293),i=r(5112),o=r(8880),c=i("species"),s=RegExp.prototype;e.exports=function(e,n,r,v){var f=i(e),d=!l((function(){var n={};return n[f]=function(){return 7},7!==""[e](n)})),p=d&&!l((function(){var n=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return n=!0,null},r[f](""),!n}));if(!d||!p||r){var g=a(/./[f]),w=n(f,""[e],(function(e,n,r,t,l){var i=a(e),o=n.exec;return o===u||o===s.exec?d&&!l?{done:!0,value:g(n,r,t)}:{done:!0,value:i(r,n,t)}:{done:!1}}));t(String.prototype,e,w[0]),t(s,f,w[1])}v&&o(s[f],"sham",!0)}},647:(e,n,r)=>{var a=r(1702),t=r(7908),u=Math.floor,l=a("".charAt),i=a("".replace),o=a("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,r,a,v,f){var d=r+e.length,p=a.length,g=s;return void 0!==v&&(v=t(v),g=c),i(f,g,(function(t,i){var c;switch(l(i,0)){case"$":return"$";case"&":return e;case"`":return o(n,0,r);case"'":return o(n,d);case"<":c=v[o(i,1,-1)];break;default:var s=+i;if(0===s)return t;if(s>p){var f=u(s/10);return 0===f?t:f<=p?void 0===a[f-1]?l(i,1):a[f-1]+l(i,1):t}c=a[s-1]}return void 0===c?"":c}))}},7651:(e,n,r)=>{var a=r(6916),t=r(9670),u=r(614),l=r(4326),i=r(2261),o=TypeError;e.exports=function(e,n){var r=e.exec;if(u(r)){var c=a(r,e,n);return null!==c&&t(c),c}if("RegExp"===l(e))return a(i,e,n);throw o("RegExp#exec called on incompatible receiver")}},3290:(e,n,r)=>{var a=r(2109),t=r(1285),u=r(1223);a({target:"Array",proto:!0},{fill:t}),u("fill")},6977:(e,n,r)=>{var a=r(2109),t=r(1702),u=r(9303),l=r(863),i=r(8415),o=r(7293),c=RangeError,s=String,v=Math.floor,f=t(i),d=t("".slice),p=t(1..toFixed),g=function(e,n,r){return 0===n?r:n%2===1?g(e,n-1,r*e):g(e*e,n/2,r)},w=function(e){var n=0,r=e;while(r>=4096)n+=12,r/=4096;while(r>=2)n+=1,r/=2;return n},m=function(e,n,r){var a=-1,t=r;while(++a<6)t+=n*e[a],e[a]=t%1e7,t=v(t/1e7)},k=function(e,n){var r=6,a=0;while(--r>=0)a+=e[r],e[r]=v(a/n),a=a%n*1e7},h=function(e){var n=6,r="";while(--n>=0)if(""!==r||0===n||0!==e[n]){var a=s(e[n]);r=""===r?a:r+f("0",7-a.length)+a}return r},U=o((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!o((function(){p({})}));a({target:"Number",proto:!0,forced:U},{toFixed:function(e){var n,r,a,t,i=l(this),o=u(e),v=[0,0,0,0,0,0],p="",U="0";if(o<0||o>20)throw c("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return s(i);if(i<0&&(p="-",i=-i),i>1e-21)if(n=w(i*g(2,69,1))-69,r=n<0?i*g(2,-n,1):i/g(2,n,1),r*=4503599627370496,n=52-n,n>0){m(v,0,r),a=o;while(a>=7)m(v,1e7,0),a-=7;m(v,g(10,a,1),0),a=n-1;while(a>=23)k(v,1<<23),a-=23;k(v,1<<a),m(v,1,1),k(v,2),U=h(v)}else m(v,0,r),m(v,1<<-n,0),U=h(v)+f("0",o);return o>0?(t=U.length,U=p+(t<=o?"0."+f("0",o-t)+U:d(U,0,t-o)+"."+d(U,t-o))):U=p+U,U}})},5306:(e,n,r)=>{var a=r(2104),t=r(6916),u=r(1702),l=r(7007),i=r(7293),o=r(9670),c=r(614),s=r(8554),v=r(9303),f=r(7466),d=r(1340),p=r(4488),g=r(1530),w=r(8173),m=r(647),k=r(7651),h=r(5112),U=h("replace"),x=Math.max,b=Math.min,S=u([].concat),_=u([].push),W=u("".indexOf),y=u("".slice),j=function(e){return void 0===e?e:String(e)},I=function(){return"$0"==="a".replace(/./,"$0")}(),H=function(){return!!/./[U]&&""===/./[U]("a","$0")}(),N=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));l("replace",(function(e,n,r){var u=H?"$":"$0";return[function(e,r){var a=p(this),u=s(e)?void 0:w(e,U);return u?t(u,e,a,r):t(n,d(a),e,r)},function(e,t){var l=o(this),i=d(e);if("string"==typeof t&&-1===W(t,u)&&-1===W(t,"$<")){var s=r(n,l,i,t);if(s.done)return s.value}var p=c(t);p||(t=d(t));var w,h=l.global;h&&(w=l.unicode,l.lastIndex=0);var U,I=[];while(1){if(U=k(l,i),null===U)break;if(_(I,U),!h)break;var H=d(U[0]);""===H&&(l.lastIndex=g(i,f(l.lastIndex),w))}for(var N="",D=0,M=0;M<I.length;M++){U=I[M];for(var G,B=d(U[0]),P=x(b(v(U.index),i.length),0),T=[],Z=1;Z<U.length;Z++)_(T,j(U[Z]));var C=U.groups;if(p){var L=S([B],T,P,i);void 0!==C&&_(L,C),G=d(a(t,void 0,L))}else G=m(B,i,P,T,C,t);P>=D&&(N+=y(i,D,P)+G,D=P+B.length)}return N+y(i,D)}]}),!N||!I||H)},3949:(e,n,r)=>{r.r(n),r.d(n,{default:()=>M});var a=r(3144),t=r(124),u=r(8534),l=(r(4916),r(5306),r(2222),r(3112),r(6647),r(3710),r(1539),r(9714),r(7327),r(1249),r(6699),r(2023),r(3290),r(2564),r(9554),r(4747),r(7658),r(6977),r(6252)),i=r(2262),o=r(3577),c=r(7208),s=r(6100),v=r(2201),f=r(316),d=r(5856),p={key:0},g=(0,l._)("strong",null,"Skor TPS:",-1),w=(0,l._)("strong",null,"Skor MM:",-1),m=(0,l._)("strong",null,"Skor LBIND:",-1),k=(0,l._)("strong",null,"Skor LBING:",-1),h=(0,l._)("strong",null,"Nilai Rata-Rata:",-1),U={key:0},x={class:"timer-badge"},b=(0,l._)("br",null,null,-1),S=(0,l._)("br",null,null,-1),_=(0,l._)("strong",null,"Jenis Soal:",-1),W=["innerHTML"],y={key:0},j={key:1},I=["src"],H={class:"options"};const N={__name:"UjianDetailSnbt",setup:function(e){var n=(0,s.ad)(d.H),r=(0,f.v0)(d.H),N=(0,v.yj)(),D=(0,v.tv)(),M=(0,i.iH)(N.params.jadwalId),G=(0,i.iH)([]),B=(0,i.iH)(0),P=(0,i.iH)([]),T=(0,i.iH)(0),Z=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),C=(0,i.iH)(0),L=(0,i.iH)(null),$=(0,i.iH)(!1),q=(0,i.iH)(!1),R=(0,i.iH)(!1),z=0,E=function(){console.log("Navigating to Explanation Page with jadwalId:",M.value),D.replace({name:"explanation",params:{jadwalId:M.value}})},A=function(e){var n=Math.floor(e/60),r=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},J=function(){var e=(0,u.Z)((0,t.Z)().mark((function e(){var a,u,l;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.currentUser,!a){e.next=12;break}return e.prev=2,e.next=5,(0,s.QT)((0,s.JU)(n,"examResults/".concat(a.uid,"/results"),M.value));case 5:u=e.sent,u.exists()&&(l=u.data(),T.value={tps:l.scoreTPS,mm:l.scoreMM,lbind:l.scoreLBIND,lbing:l.scoreLBING,average:l.score},$.value=!0,R.value=!0),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error checking exam status:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,u.Z)((0,t.Z)().mark((function e(){var u,l,i,o,c;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=r.currentUser,!u){e.next=32;break}if(M.value){e.next=5;break}return console.error("jadwalId is undefined"),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,s.QT)((0,s.JU)(n,"jadwalsnbt",M.value));case 8:if(l=e.sent,!l.exists()){e.next=24;break}return i=l.data(),e.next=13,(0,s.PL)((0,s.hJ)(n,"soalsnbt"));case 13:return o=e.sent,G.value=o.docs.map((function(e){return(0,a.Z)((0,a.Z)({id:e.id},e.data()),{},{jenissoal:e.data().jenissoal})})).filter((function(e){return i.soal&&i.soal.includes(e.id)})),z=60*i.durasi,C.value=z,e.next=19,(0,s.QT)((0,s.JU)(n,"examResults/".concat(u.uid,"/answers"),M.value));case 19:c=e.sent,c.exists()?P.value=c.data().answers||new Array(G.value.length).fill(""):P.value=new Array(G.value.length).fill(""),X(),e.next=25;break;case 24:console.error("Dokumen jadwal tidak ditemukan di koleksi 'jadwalsnbt'.");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](5),console.error("Error fetching documents:",e.t0);case 30:e.next=33;break;case 32:console.error("User is not authenticated");case 33:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,u.Z)((0,t.Z)().mark((function e(){var a,u;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.currentUser,!a){e.next=13;break}return e.prev=2,u=P.value.map((function(e,n){var r=G.value[n],a=e===r.correctAnswer;return{questionId:r.id,jenisSoal:r.jenissoal,answer:e,isCorrect:a}})),e.next=6,(0,s.pl)((0,s.JU)(n,"examResults/".concat(a.uid,"/answers"),M.value),{answers:u,updatedAt:(0,s.Bt)()});case 6:ue("Jawaban disimpan!","success"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error saving answers:",e.t0),ue("Gagal menyimpan jawaban.","danger");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){q.value=!0},K=function(){q.value=!1},Q=function(e){e>=0&&e<G.value.length?(B.value=e,K()):console.error("Invalid question index:",e)},X=function(){L.value=setInterval((function(){C.value>0?C.value--:(clearInterval(L.value),ne())}),1e3)},V=function(){B.value=0,P.value=new Array(G.value.length).fill(""),C.value=z,$.value=!1,clearInterval(L.value),X()},ee=function(){B.value<G.value.length-1?B.value++:ne()},ne=function(){re(),ae(),R.value=!0,$.value=!0},re=function(){var e=0,n=0,r=0,a=0;G.value.forEach((function(t,u){if(t.correctAnswer===P.value[u])switch(t.jenissoal){case"TPS":e+=11;break;case"MM":n+=50;break;case"LBIND":r+=40;break;case"LBING":a+=50;break;default:console.error("Jenis soal tidak dikenal: "+t.jenissoal)}}));var t=e+n+r+a,u=t/4||0;T.value={tps:e,mm:n,lbind:r,lbing:a,average:u}},ae=function(){var e=(0,u.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.currentUser,!a){e.next=12;break}return e.prev=2,e.next=5,(0,s.pl)((0,s.JU)(n,"examResults/".concat(a.uid,"/results"),M.value),{userId:a.uid,jadwalId:M.value,scoreTPS:T.value.tps,scoreMM:T.value.mm,scoreLBIND:T.value.lbind,scoreLBING:T.value.lbing,score:T.value.average,createdAt:(0,s.Bt)()});case 5:ue("Nilai berhasil disimpan!","success"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),console.error("Error saving score:",e.t0),ue("Gagal menyimpan nilai.","danger");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(e){P.value[B.value]=e,Y()},ue=function(e,n){Z.value={isOpen:!0,message:e,duration:2e3,color:n}};(0,l.bv)((function(){J(),F()})),(0,l.m0)((function(){J()}));var le=function(){D.push("/")};return function(e,n){var r=(0,l.up)("center"),a=(0,l.up)("ion-spinner");return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Halaman TO SNBT")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0,class:"exam-page"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.PM),{style:{"background-color":"#faf8f2"}},{default:(0,l.w5)((function(){return[G.value.length>0&&!e.loading?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(r,null,{default:(0,l.w5)((function(){return[$.value?((0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:0,class:"ion-text-center"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l._)("p",null,[g,(0,l.Uk)(" "+(0,o.zw)(T.value.tps),1)]),(0,l._)("p",null,[w,(0,l.Uk)(" "+(0,o.zw)(T.value.mm),1)]),(0,l._)("p",null,[m,(0,l.Uk)(" "+(0,o.zw)(T.value.lbind),1)]),(0,l._)("p",null,[k,(0,l.Uk)(" "+(0,o.zw)(T.value.lbing),1)]),(0,l._)("p",null,[h,(0,l.Uk)(" "+(0,o.zw)(void 0!==T.value.average?T.value.average.toFixed(2):"Belum dihitung"),1)]),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"success",onClick:le,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Kembali ke Halaman Utama ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"warning",onClick:V,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" TO Ulang ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"danger",onClick:E,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Lihat Pembahasan ")]})),_:1})]})),_:1})]})),_:1})):(0,l.kq)("",!0)]})),_:1})])):(0,l.kq)("",!0),e.loading?((0,l.wg)(),(0,l.j4)(a,{key:1,name:"crescent"})):(0,l.kq)("",!0)]})),_:1}),!$.value&&B.value<G.value.length?((0,l.wg)(),(0,l.iD)("div",U,[(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:O},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Pilih Soal ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.PM),null,{default:(0,l.w5)((function(){return[(0,l._)("div",x,[(0,l.Wm)((0,i.SU)(c.yp),{style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(A(C.value)),1)]})),_:1})]),(0,l.Wm)((0,i.SU)(c.Zi),null,{default:(0,l.w5)((function(){return[b,S,(0,l.Wm)(r,null,{default:(0,l.w5)((function(){return[(0,l._)("p",null,[_,(0,l.Uk)(" "+(0,o.zw)(G.value[B.value].jenissoal),1)])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l._)("div",{innerHTML:G.value[B.value].question},null,8,W)]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[G.value[B.value].imageUrl?((0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)((0,i.SU)(c.Xz),{src:G.value[B.value].imageUrl},null,8,["src"])])):(0,l.kq)("",!0),G.value[B.value].videoUrl?((0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("video",{src:G.value[B.value].videoUrl,controls:""},null,8,I)])):(0,l.kq)("",!0)]})),_:1})]})),_:1}),(0,l._)("div",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(G.value[B.value].options,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:n,onClick:function(e){return te(n)},class:(0,o.C_)({selected:P.value[B.value]===n})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["onClick","class"])})),128))]),(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:ee},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(B.value===G.value.length-1?"Finish":"Next"),1)]})),_:1})])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ge),{"is-open":R.value,header:"Hasil Ujian",message:"\n    <strong>Skor TPS:</strong> ".concat(T.value.tps,"<br>\n    <strong>Skor MM:</strong> ").concat(T.value.mm,"<br>\n    <strong>Skor LBIND:</strong> ").concat(T.value.lbind,"<br>\n    <strong>Skor LBING:</strong> ").concat(T.value.lbing,"<br>\n    <strong>Nilai Rata-Rata:</strong> ").concat(void 0!==T.value.average?T.value.average.toFixed(2):"Belum dihitung","\n  "),buttons:[{text:"Ujian Ulang",handler:V},{text:"Kembali ke Halaman Utama",handler:le}],onDidDismiss:n[0]||(n[0]=function(){return R.value=!1})},null,8,["is-open","message","buttons"]),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":Z.value.isOpen,message:Z.value.message,duration:Z.value.duration,color:Z.value.color,onDidDismiss:n[1]||(n[1]=function(){return Z.value.isOpen=!1})},null,8,["is-open","message","duration","color"]),(0,l.Wm)((0,i.SU)(c.ki),{"is-open":q.value,onDidDismiss:K},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Pilih Soal")]})),_:1}),(0,l.Wm)((0,i.SU)(c.Sm),{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.YG),{onClick:K},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tutup")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.q_),null,{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(G.value,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.Ie),{key:n,onClick:function(e){return Q(n)}},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Soal "+(0,o.zw)(n+1),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1},8,["is-open"])]})),_:1})]})),_:1})}}},D=N,M=D}}]);
//# sourceMappingURL=3949.ebfe5eea.js.map