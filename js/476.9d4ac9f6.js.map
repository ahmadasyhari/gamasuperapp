{"version":3,"file":"js/476.9d4ac9f6.js","mappings":"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","sources":["webpack://resep-bunda/./src/views/admin/TambahKelas.vue","webpack://resep-bunda/./src/views/admin/TambahKelas.vue?39bd"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header mode=\"ios\">\n      <ion-toolbar>\n        <ion-title>Tambah Kelas</ion-title>\n        <ion-back-button slot=\"start\" default-href=\"/\" />\n      </ion-toolbar>\n    </ion-header>\n    <ion-content :fullscreen=\"true\">\n      <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\n        <ion-refresher-content />\n      </ion-refresher>\n      <ion-content class=\"ion-padding\">\n        <ion-item>\n          <ion-label position=\"floating\">Nama Kelas</ion-label>\n          <ion-input\n            v-model=\"kelasName\"\n            placeholder=\"Masukkan nama kelas\"\n          ></ion-input>\n        </ion-item>\n        <ion-button expand=\"block\" @click=\"addKelas\" style=\"color: white\"\n          >Tambah Kelas</ion-button\n        >\n\n        <ion-grid class=\"ion-padding\">\n          <ion-row>\n            <ion-col>\n              <h2>Daftar Kelas</h2>\n              <table>\n                <thead>\n                  <tr>\n                    <th>Nama Kelas</th>\n                    <th>Aksi</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"kelas in kelasList\" :key=\"kelas.id\">\n                    <td>{{ kelas.name }}</td>\n                    <td>\n                      <ion-button color=\"warning\" @click=\"openEditModal(kelas)\"\n                        >Edit</ion-button\n                      >\n                      <ion-button color=\"danger\" @click=\"deleteKelas(kelas.id)\"\n                        >Hapus</ion-button\n                      >\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </ion-content>\n\n      <ion-modal :is-open=\"isEditModalOpen\" @did-dismiss=\"closeEditModal\">\n        <ion-header>\n          <ion-toolbar>\n            <ion-title>Edit Kelas</ion-title>\n            <ion-buttons slot=\"end\">\n              <ion-button @click=\"closeEditModal\">Close</ion-button>\n            </ion-buttons>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <ion-item>\n            <ion-label position=\"floating\">Nama Kelas</ion-label>\n            <ion-input v-model=\"editKelasName\"></ion-input>\n          </ion-item>\n          <ion-button expand=\"block\" @click=\"updateKelas\"\n            >Simpan Perubahan</ion-button\n          >\n        </ion-content>\n      </ion-modal>\n\n      <ion-toast\n        :is-open=\"toast.isOpen\"\n        :message=\"toast.message\"\n        :duration=\"toast.duration\"\n        :color=\"toast.color\"\n        @did-dismiss=\"() => (toast.isOpen = false)\"\n      ></ion-toast>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonBackButton,\n  IonContent,\n  IonRefresher,\n  IonRefresherContent,\n  IonButton,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonModal,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonToast,\n} from \"@ionic/vue\";\nimport { ref, onMounted } from \"vue\";\nimport {\n  getFirestore,\n  collection,\n  addDoc,\n  getDocs,\n  updateDoc,\n  deleteDoc,\n  doc,\n  serverTimestamp,\n} from \"firebase/firestore\";\nimport { firebaseApp } from \"../firebase.js\";\n\nconst db = getFirestore(firebaseApp);\nconst kelasName = ref(\"\");\nconst kelasList = ref([]);\nconst toast = ref({\n  isOpen: false,\n  message: \"\",\n  duration: 2000,\n  color: \"success\",\n});\nconst isEditModalOpen = ref(false);\nconst editKelasName = ref(\"\");\nconst editKelasId = ref(\"\");\n\nconst fetchKelas = async () => {\n  try {\n    const querySnapshot = await getDocs(collection(db, \"kelas\"));\n    kelasList.value = querySnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    }));\n  } catch (error) {\n    console.error(\"Error fetching kelas:\", error);\n    showToast(\"Terjadi kesalahan saat mengambil data kelas.\", \"danger\");\n  }\n};\n\nconst addKelas = async () => {\n  if (!kelasName.value) {\n    showToast(\"Nama kelas tidak boleh kosong\", \"danger\");\n    return;\n  }\n  try {\n    await addDoc(collection(db, \"kelas\"), {\n      name: kelasName.value,\n      createdAt: serverTimestamp(),\n    });\n    showToast(\"Kelas berhasil ditambahkan\", \"success\");\n    kelasName.value = \"\"; // Clear the input\n    fetchKelas(); // Refresh the list\n  } catch (error) {\n    console.error(\"Error adding kelas:\", error);\n    showToast(\"Terjadi kesalahan saat menambahkan kelas\", \"danger\");\n  }\n};\n\nconst openEditModal = (kelas) => {\n  editKelasName.value = kelas.name;\n  editKelasId.value = kelas.id;\n  isEditModalOpen.value = true;\n};\n\nconst closeEditModal = () => {\n  isEditModalOpen.value = false;\n  editKelasName.value = \"\";\n  editKelasId.value = \"\";\n};\n\nconst updateKelas = async () => {\n  if (!editKelasName.value) {\n    showToast(\"Nama kelas tidak boleh kosong\", \"danger\");\n    return;\n  }\n  try {\n    await updateDoc(doc(db, \"kelas\", editKelasId.value), {\n      name: editKelasName.value,\n    });\n    showToast(\"Kelas berhasil diperbarui\", \"success\");\n    closeEditModal();\n    fetchKelas(); // Refresh the list\n  } catch (error) {\n    console.error(\"Error updating kelas:\", error);\n    showToast(\"Terjadi kesalahan saat memperbarui kelas\", \"danger\");\n  }\n};\n\nconst deleteKelas = async (kelasId) => {\n  try {\n    await deleteDoc(doc(db, \"kelas\", kelasId));\n    showToast(\"Kelas berhasil dihapus\", \"success\");\n    fetchKelas(); // Refresh the list\n  } catch (error) {\n    console.error(\"Error deleting kelas:\", error);\n    showToast(\"Terjadi kesalahan saat menghapus kelas\", \"danger\");\n  }\n};\n\nconst showToast = (message, color) => {\n  toast.value = {\n    isOpen: true,\n    message,\n    duration: 2000,\n    color,\n  };\n};\n\nconst doRefresh = (event) => {\n  setTimeout(() => {\n    fetchKelas();\n    event.target.complete();\n  }, 2000);\n};\n\nonMounted(() => {\n  fetchKelas();\n});\n</script>\n\n<style scoped>\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\nth,\ntd {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n\nth {\n  background-color: #f2f2f2;\n  font-weight: bold;\n}\n\ntbody tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\ntbody tr:hover {\n  background-color: #f1f1f1;\n}\n</style>\n","import script from \"./TambahKelas.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TambahKelas.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TambahKelas.vue?vue&type=style&index=0&id=04275f53&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-04275f53\"]])\n\nexport default __exports__"],"names":["db","getFirestore","firebaseApp","kelasName","ref","kelasList","toast","isOpen","message","duration","color","isEditModalOpen","editKelasName","editKelasId","fetchKelas","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","wrap","_context","prev","next","getDocs","collection","sent","value","docs","map","doc","_objectSpread","id","data","t0","console","error","showToast","stop","apply","arguments","addKelas","_ref2","_callee2","_context2","abrupt","addDoc","name","createdAt","serverTimestamp","openEditModal","kelas","closeEditModal","updateKelas","_ref3","_callee3","_context3","updateDoc","deleteKelas","_ref4","_callee4","kelasId","_context4","deleteDoc","_x","doRefresh","event","setTimeout","target","complete","onMounted","__exports__"],"sourceRoot":""}