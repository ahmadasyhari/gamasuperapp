"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[6476],{6476:(e,n,a)=>{a.r(n),a.d(n,{default:()=>h});var t=a(124),u=a(3144),r=a(8534),l=(a(1249),a(8309),a(2564),a(6252)),o=a(2262),i=a(3577),s=a(3167),c=a(6100),d=a(5856),f=function(e){return(0,l.dD)("data-v-04275f53"),e=e(),(0,l.Cn)(),e},m=f((function(){return(0,l._)("h2",null,"Daftar Kelas",-1)})),p=f((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Kelas"),(0,l._)("th",null,"Aksi")])],-1)}));const k={__name:"TambahKelas",setup:function(e){var n=(0,c.ad)(d.H),a=(0,o.iH)(""),f=(0,o.iH)([]),k=(0,o.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),v=(0,o.iH)(!1),w=(0,o.iH)(""),h=(0,o.iH)(""),U=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.PL)((0,c.hJ)(n,"kelas"));case 3:a=e.sent,f.value=a.docs.map((function(e){return(0,u.Z)({id:e.id},e.data())})),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching kelas:",e.t0),x("Terjadi kesalahan saat mengambil data kelas.","danger");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.value){e.next=3;break}return x("Nama kelas tidak boleh kosong","danger"),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,c.ET)((0,c.hJ)(n,"kelas"),{name:a.value,createdAt:(0,c.Bt)()});case 6:x("Kelas berhasil ditambahkan","success"),a.value="",U(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),console.error("Error adding kelas:",e.t0),x("Terjadi kesalahan saat menambahkan kelas","danger");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),W=function(e){w.value=e.name,h.value=e.id,v.value=!0},b=function(){v.value=!1,w.value="",h.value=""},S=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w.value){e.next=3;break}return x("Nama kelas tidak boleh kosong","danger"),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,c.r7)((0,c.JU)(n,"kelas",h.value),{name:w.value});case 6:x("Kelas berhasil diperbarui","success"),b(),U(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),console.error("Error updating kelas:",e.t0),x("Terjadi kesalahan saat memperbarui kelas","danger");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.oe)((0,c.JU)(n,"kelas",a));case 3:x("Kelas berhasil dihapus","success"),U(),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error deleting kelas:",e.t0),x("Terjadi kesalahan saat menghapus kelas","danger");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),x=function(e,n){k.value={isOpen:!0,message:e,duration:2e3,color:n}},K=function(e){setTimeout((function(){U(),e.target.complete()}),2e3)};return(0,l.bv)((function(){U()})),function(e,n){var t=(0,l.up)("ion-buttons");return(0,l.wg)(),(0,l.j4)((0,o.SU)(s._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Kelas")]})),_:1}),(0,l.Wm)((0,o.SU)(s.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(s.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.nJ),{slot:"fixed",onIonRefresh:n[0]||(n[0]=function(e){return K(e)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Wo))]})),_:1}),(0,l.Wm)((0,o.SU)(s.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Kelas")]})),_:1}),(0,l.Wm)((0,o.SU)(s.pK),{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return a.value=e}),placeholder:"Masukkan nama kelas"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,o.SU)(s.YG),{expand:"block",onClick:_,style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Kelas")]})),_:1}),(0,l.Wm)((0,o.SU)(s.jY),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.wI),null,{default:(0,l.w5)((function(){return[m,(0,l._)("table",null,[p,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.value,(function(e){return(0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,i.zw)(e.name),1),(0,l._)("td",null,[(0,l.Wm)((0,o.SU)(s.YG),{color:"warning",onClick:function(n){return W(e)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit")]})),_:2},1032,["onClick"]),(0,l.Wm)((0,o.SU)(s.YG),{color:"danger",onClick:function(n){return g(e.id)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Hapus")]})),_:2},1032,["onClick"])])])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(s.ki),{"is-open":v.value,onDidDismiss:b},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit Kelas")]})),_:1}),(0,l.Wm)(t,{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.YG),{onClick:b},{default:(0,l.w5)((function(){return[(0,l.Uk)("Close")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(s.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Kelas")]})),_:1}),(0,l.Wm)((0,o.SU)(s.pK),{modelValue:w.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return w.value=e})},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,o.SU)(s.YG),{expand:"block",onClick:S},{default:(0,l.w5)((function(){return[(0,l.Uk)("Simpan Perubahan")]})),_:1})]})),_:1})]})),_:1},8,["is-open"]),(0,l.Wm)((0,o.SU)(s.Px),{"is-open":k.value.isOpen,message:k.value.message,duration:k.value.duration,color:k.value.color,onDidDismiss:n[3]||(n[3]=function(){return k.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var v=a(3744);const w=(0,v.Z)(k,[["__scopeId","data-v-04275f53"]]),h=w}}]);
//# sourceMappingURL=6476.3f94fda0.js.map