"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[4],{1530:(e,n,t)=>{var r=t(8710).charAt;e.exports=function(e,n,t){return n+(t?r(e,n).length:1)}},7007:(e,n,t)=>{t(4916);var r=t(1470),a=t(8052),i=t(2261),u=t(7293),o=t(5112),l=t(8880),c=o("species"),s=RegExp.prototype;e.exports=function(e,n,t,d){var f=o(e),p=!u((function(){var n={};return n[f]=function(){return 7},7!==""[e](n)})),m=p&&!u((function(){var n=!1,t=/a/;return"split"===e&&(t={},t.constructor={},t.constructor[c]=function(){return t},t.flags="",t[f]=/./[f]),t.exec=function(){return n=!0,null},t[f](""),!n}));if(!p||!m||t){var v=r(/./[f]),h=n(f,""[e],(function(e,n,t,a,u){var o=r(e),l=n.exec;return l===i||l===s.exec?p&&!u?{done:!0,value:v(n,t,a)}:{done:!0,value:o(t,n,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(s,f,h[1])}d&&l(s[f],"sham",!0)}},647:(e,n,t)=>{var r=t(1702),a=t(7908),i=Math.floor,u=r("".charAt),o=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,t,r,d,f){var p=t+e.length,m=r.length,v=s;return void 0!==d&&(d=a(d),v=c),o(f,v,(function(a,o){var c;switch(u(o,0)){case"$":return"$";case"&":return e;case"`":return l(n,0,t);case"'":return l(n,p);case"<":c=d[l(o,1,-1)];break;default:var s=+o;if(0===s)return a;if(s>m){var f=i(s/10);return 0===f?a:f<=m?void 0===r[f-1]?u(o,1):r[f-1]+u(o,1):a}c=r[s-1]}return void 0===c?"":c}))}},7651:(e,n,t)=>{var r=t(6916),a=t(9670),i=t(614),u=t(4326),o=t(2261),l=TypeError;e.exports=function(e,n){var t=e.exec;if(i(t)){var c=r(t,e,n);return null!==c&&a(c),c}if("RegExp"===u(e))return r(o,e,n);throw l("RegExp#exec called on incompatible receiver")}},5306:(e,n,t)=>{var r=t(2104),a=t(6916),i=t(1702),u=t(7007),o=t(7293),l=t(9670),c=t(614),s=t(8554),d=t(9303),f=t(7466),p=t(1340),m=t(4488),v=t(1530),h=t(8173),w=t(647),g=t(7651),k=t(5112),b=k("replace"),M=Math.max,x=Math.min,_=i([].concat),W=i([].push),Z=i("".indexOf),H=i("".slice),I=function(e){return void 0===e?e:String(e)},y=function(){return"$0"==="a".replace(/./,"$0")}(),D=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),C=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));u("replace",(function(e,n,t){var i=D?"$":"$0";return[function(e,t){var r=m(this),i=s(e)?void 0:h(e,b);return i?a(i,e,r,t):a(n,p(r),e,t)},function(e,a){var u=l(this),o=p(e);if("string"==typeof a&&-1===Z(a,i)&&-1===Z(a,"$<")){var s=t(n,u,o,a);if(s.done)return s.value}var m=c(a);m||(a=p(a));var h,k=u.global;k&&(h=u.unicode,u.lastIndex=0);var b,y=[];while(1){if(b=g(u,o),null===b)break;if(W(y,b),!k)break;var D=p(b[0]);""===D&&(u.lastIndex=v(o,f(u.lastIndex),h))}for(var C="",U=0,j=0;j<y.length;j++){b=y[j];for(var T,E=p(b[0]),L=M(x(d(b.index),o.length),0),P=[],S=1;S<b.length;S++)W(P,I(b[S]));var $=b.groups;if(m){var R=_([E],P,L,o);void 0!==$&&W(R,$),T=p(r(a,void 0,R))}else T=w(E,o,L,P,$,a);L>=U&&(C+=H(o,U,L)+T,U=L+E.length)}return C+H(o,U)}]}),!C||!y||D)},4:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});t(8309);var r=t(6252),a=t(3577),i=(0,r._)("div",{id:"editor-container"},null,-1),u=(0,r._)("h2",null,"Daftar Materi",-1),o=["innerHTML"],l=(0,r._)("div",{id:"editor-edit-container"},null,-1);function c(e,n,t,c,s,d){var f=(0,r.up)("ion-title"),p=(0,r.up)("ion-back-button"),m=(0,r.up)("ion-toolbar"),v=(0,r.up)("ion-header"),h=(0,r.up)("ion-refresher-content"),w=(0,r.up)("ion-refresher"),g=(0,r.up)("ion-label"),k=(0,r.up)("ion-input"),b=(0,r.up)("ion-item"),M=(0,r.up)("ion-select-option"),x=(0,r.up)("ion-select"),_=(0,r.up)("ion-button"),W=(0,r.up)("ion-list"),Z=(0,r.up)("ion-col"),H=(0,r.up)("ion-row"),I=(0,r.up)("ion-grid"),y=(0,r.up)("ion-content"),D=(0,r.up)("ion-buttons"),C=(0,r.up)("ion-modal"),U=(0,r.up)("ion-toast"),j=(0,r.up)("ion-page");return(0,r.wg)(),(0,r.j4)(j,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{mode:"ios"},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Tambah Materi")]})),_:1}),(0,r.Wm)(p,{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,r.Wm)(y,{fullscreen:!0},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{slot:"fixed",onIonRefresh:n[0]||(n[0]=function(n){return e.doRefresh(n)})},{default:(0,r.w5)((function(){return[(0,r.Wm)(h)]})),_:1}),(0,r.Wm)(y,{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Judul Materi")]})),_:1}),(0,r.Wm)(k,{modelValue:e.title,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.title=n}),placeholder:"Masukkan judul materi"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(b,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Kelas")]})),_:1}),(0,r.Wm)(x,{modelValue:e.selectedClass,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.selectedClass=n}),placeholder:"Pilih Kelas"},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.classes,(function(e){return(0,r.wg)(),(0,r.j4)(M,{key:e.id,value:e.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)(b,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Mata Pelajaran")]})),_:1}),(0,r.Wm)(x,{modelValue:e.selectedSubject,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.selectedSubject=n}),placeholder:"Pilih Mata Pelajaran"},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.subjects,(function(e){return(0,r.wg)(),(0,r.j4)(M,{key:e.id,value:e.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),i,(0,r.Wm)(_,{style:{color:"white"},expand:"block",onClick:e.saveMateri},{default:(0,r.w5)((function(){return[(0,r.Uk)("Simpan Materi")]})),_:1},8,["onClick"]),(0,r.Wm)(I,{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)(H,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,null,{default:(0,r.w5)((function(){return[u,(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.materiList,(function(n){return(0,r.wg)(),(0,r.j4)(b,{key:n.id},{default:(0,r.w5)((function(){return[(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r._)("h3",null,(0,a.zw)(n.title),1),(0,r._)("p",null,"Kelas: "+(0,a.zw)(n.className),1),(0,r._)("p",null,"Mata Pelajaran: "+(0,a.zw)(n.subjectName),1)]})),_:2},1024),(0,r.Wm)(_,{style:{color:"white"},onClick:function(t){return e.openDetailModal(n.content)}},{default:(0,r.w5)((function(){return[(0,r.Uk)("Detail")]})),_:2},1032,["onClick"]),(0,r.Wm)(_,{color:"success",onClick:function(t){return e.openEditModal(n)}},{default:(0,r.w5)((function(){return[(0,r.Uk)("Edit")]})),_:2},1032,["onClick"]),(0,r.Wm)(_,{color:"danger",onClick:function(t){return e.deleteMateri(n.id)}},{default:(0,r.w5)((function(){return[(0,r.Uk)("Hapus")]})),_:2},1032,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(C,{"is-open":e.isDetailModalOpen,onDidDismiss:e.closeDetailModal},{default:(0,r.w5)((function(){return[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Detail Materi")]})),_:1}),(0,r.Wm)(D,{slot:"end"},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{onClick:e.closeDetailModal},{default:(0,r.w5)((function(){return[(0,r.Uk)("Close")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r._)("div",{innerHTML:e.detailContent},null,8,o)]})),_:1})]})),_:1},8,["is-open","onDidDismiss"]),(0,r.Wm)(C,{"is-open":e.isEditModalOpen,onDidPresent:e.handleModalDidPresent,onDidDismiss:e.closeEditModal},{default:(0,r.w5)((function(){return[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Edit Materi")]})),_:1}),(0,r.Wm)(D,{slot:"end"},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{onClick:e.closeEditModal},{default:(0,r.w5)((function(){return[(0,r.Uk)("Close")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[l,(0,r.Wm)(_,{style:{color:"white"},expand:"block",onClick:e.updateMateri},{default:(0,r.w5)((function(){return[(0,r.Uk)("Update Materi")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["is-open","onDidPresent","onDidDismiss"]),(0,r.Wm)(U,{"is-open":e.toast.isOpen,message:e.toast.message,duration:e.toast.duration,color:e.toast.color,onDidDismiss:n[4]||(n[4]=function(){return e.toast.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}var s=t(124),d=t(3144),f=t(8534),p=(t(1249),t(9826),t(1539),t(4916),t(5306),t(2564),t(2262)),m=t(86),v=t(4903),h=t(6100),w=t(5856),g=t(6708),k=(0,h.ad)(w.H),b=(0,g.cF)(w.H);const M=(0,r.aZ)({name:"TambahMateri",components:{IonPage:m._i,IonHeader:m.Gu,IonToolbar:m.sr,IonTitle:m.wd,IonBackButton:m.oU,IonContent:m.W2,IonRefresher:m.nJ,IonRefresherContent:m.Wo,IonButton:m.YG,IonGrid:m.jY,IonRow:m.Nd,IonCol:m.wI,IonList:m.q_,IonItem:m.Ie,IonLabel:m.Q$,IonToast:m.Px,IonModal:m.ki,IonInput:m.pK,IonSelect:m.t9,IonSelectOption:m.n0,IonButtons:m.Sm},setup:function(){var e,n,t=(0,p.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),a=(0,p.iH)(""),i=(0,p.iH)(""),u=(0,p.iH)(""),o=(0,p.iH)([]),l=(0,p.iH)(!1),c=(0,p.iH)(!1),m=(0,p.iH)(""),w=(0,p.iH)(null),M=(0,p.iH)(""),x=(0,p.iH)([]),_=(0,p.iH)([]);(0,r.bv)((function(){e=new v.ZP("#editor-container",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","video","audio"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}]],handlers:{image:function(){L()},video:function(){S()},audio:function(){R()}}}}}),W(),Z(),H()}));var W=function(){var e=(0,f.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.PL)((0,h.hJ)(k,"kelas"));case 2:n=e.sent,x.value=n.docs.map((function(e){return(0,d.Z)({id:e.id},e.data())}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,f.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.PL)((0,h.hJ)(k,"mataPelajaran"));case 2:n=e.sent,_.value=n.docs.map((function(e){return(0,d.Z)({id:e.id},e.data())}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,f.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.PL)((0,h.hJ)(k,"materi"));case 3:n=e.sent,o.value=n.docs.map((function(e){var n,t,r=e.data();return(0,d.Z)((0,d.Z)({id:e.id},r),{},{className:(null===(n=x.value.find((function(e){return e.id===r["class"]})))||void 0===n?void 0:n.name)||"N/A",subjectName:(null===(t=_.value.find((function(e){return e.id===r.subject})))||void 0===t?void 0:t.name)||"N/A"})})),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching materi:",e.t0),J("Terjadi kesalahan saat mengambil data materi.","danger");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var n=(0,f.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.root.innerHTML,a.value&&i.value&&u.value&&t){n.next=4;break}return J("Semua field harus diisi","danger"),n.abrupt("return");case 4:return n.prev=4,n.next=7,(0,h.ET)((0,h.hJ)(k,"materi"),{title:a.value,class:i.value,subject:u.value,content:t,createdAt:(0,h.Bt)()});case 7:J("Materi berhasil disimpan","success"),e.root.innerHTML="",a.value="",i.value="",u.value="",H(),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](4),console.error("Error saving materi: ",n.t0),J("Terjadi kesalahan saat menyimpan materi","danger");case 19:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(){return n.apply(this,arguments)}}(),y=function(){var e=(0,f.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.oe)((0,h.JU)(k,"materi",n));case 3:J("Materi berhasil dihapus","success"),H(),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error deleting materi: ",e.t0),J("Terjadi kesalahan saat menghapus materi","danger");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),D=function(e){m.value=e,l.value=!0},C=function(e){w.value=e.id,M.value=e.content,c.value=!0},U=function(){l.value=!1},j=function(){c.value=!1},T=function(){c.value&&(n=new v.ZP("#editor-edit-container",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","video","audio"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}]],handlers:{image:function(){P()},video:function(){$()},audio:function(){V()}}}}}),n.root.innerHTML=M.value)},E=function(){var e=(0,f.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.root.innerHTML,t){e.next=4;break}return J("Isi materi tidak boleh kosong","danger"),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,h.r7)((0,h.JU)(k,"materi",w.value),{content:t});case 7:J("Materi berhasil diperbarui","success"),j(),H(),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](4),console.error("Error updating materi: ",e.t0),J("Terjadi kesalahan saat memperbarui materi","danger");case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept","image/*"),n.click(),n.onchange=(0,f.Z)((0,s.Z)().mark((function t(){var r,a,i,u;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.files[0],a=(0,g.iH)(b,"images/".concat(r.name)),t.next=4,(0,g.KV)(a,r);case 4:return t.next=6,(0,g.Jt)(a);case 6:i=t.sent,u=e.getSelection(),e.insertEmbed(u.index,"image",i);case 9:case"end":return t.stop()}}),t)})))},P=function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.onchange=(0,f.Z)((0,s.Z)().mark((function t(){var r,a,i,u;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.files[0],a=(0,g.iH)(b,"images/".concat(r.name)),t.next=4,(0,g.KV)(a,r);case 4:return t.next=6,(0,g.Jt)(a);case 6:i=t.sent,u=n.getSelection(),n.insertEmbed(u.index,"image",i);case 9:case"end":return t.stop()}}),t)})))},S=function(){var n=prompt("Masukkan URL video (YouTube):");if(n){var t=e.getSelection(),r='<iframe width="560" height="315" src="'.concat(n.replace("watch?v=","embed/"),'" frameborder="0" allowfullscreen></iframe>');e.clipboard.dangerouslyPasteHTML(t.index,r)}},$=function(){var e=prompt("Masukkan URL video (YouTube):");if(e){var t=n.getSelection(),r='<iframe width="560" height="315" src="'.concat(e.replace("watch?v=","embed/"),'" frameborder="0" allowfullscreen></iframe>');n.clipboard.dangerouslyPasteHTML(t.index,r)}},R=function(){var n=prompt("Masukkan URL audio:");if(n){var t=e.getSelection(),r='<audio controls><source src="'.concat(n,'" type="audio/mpeg">Your browser does not support the audio element.</audio>');e.clipboard.dangerouslyPasteHTML(t.index,r)}},V=function(){var e=prompt("Masukkan URL audio:");if(e){var t=n.getSelection(),r='<audio controls><source src="'.concat(e,'" type="audio/mpeg">Your browser does not support the audio element.</audio>');n.clipboard.dangerouslyPasteHTML(t.index,r)}},J=function(e,n){t.value={isOpen:!0,message:e,duration:2e3,color:n}};return{title:a,selectedClass:i,selectedSubject:u,saveMateri:I,deleteMateri:y,materiList:o,toast:t,isDetailModalOpen:l,isEditModalOpen:c,detailContent:m,openDetailModal:D,openEditModal:C,closeDetailModal:U,closeEditModal:j,handleModalDidPresent:T,updateMateri:E,classes:x,subjects:_}},methods:{doRefresh:function(e){var n=this;setTimeout((function(){e.target.complete(),n.fetchMateri()}),2e3)}}});var x=t(3744);const _=(0,x.Z)(M,[["render",c]]),W=_}}]);
//# sourceMappingURL=4.c01d7f56.js.map