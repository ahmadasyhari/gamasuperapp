{"version":3,"file":"js/3204.c6b38fcb.js","mappings":"4mBAkFA,IAAMA,GAAKC,EAAAA,EAAAA,IAAaC,EAAAA,GAClBC,GAAOC,EAAAA,EAAAA,IAAQF,EAAAA,GACfG,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,IAAIH,EAAMI,OAAOF,UAC5BG,GAAYF,EAAAA,EAAAA,IAAI,IAChBG,GAAcH,EAAAA,EAAAA,IAAI,IAClBI,GAAuBJ,EAAAA,EAAAA,IAAI,GAE3BK,EAAc,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAI7B,EAAI,kBAAmBO,EAASuB,QAAO,OAA3D,GAATX,EAASM,EAAAM,MACXZ,EAAUa,SAAU,CAAFP,EAAAE,KAAA,SACe,OAA7BP,EAAaD,EAAUc,OAAMR,EAAAE,KAAA,GACHO,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWnC,EAAI,kBAAiB,OAS3C,GATvBqB,EAAiBI,EAAAM,KACvBrB,EAAUoB,MAAQT,EAAkBe,KACjCC,KAAI,SAACR,GAAG,OAAAS,EAAAA,EAAAA,GAAA,CACPC,GAAIV,EAAIU,IACLV,EAAII,OAAM,IAEdO,QAAO,SAACC,GAAQ,OAAKrB,EAAWsB,MAAQtB,EAAWsB,KAAKC,SAASF,EAASF,GAAG,IAG1EjB,EAAOnB,EAAKyC,aACdtB,EAAM,CAAFG,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,IACmBC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAI7B,EAAI,eAAF6C,OAAiBvB,EAAKwB,IAAG,YAAYvC,EAASuB,QAAO,QAArFP,EAAUE,EAAAM,KACZR,EAAWS,SACbrB,EAAYmB,MAAQP,EAAWU,OAAOc,SAAW,GAEjDC,QAAQC,MAAM,iCACf,QAAAxB,EAAAE,KAAA,iBAGHqB,QAAQC,MAAM,gEAAgE,QAAAxB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAyB,GAAAzB,EAAA,YAGhFuB,QAAQC,MAAM,4BAA2BxB,EAAAyB,IAAS,yBAAAzB,EAAA0B,OAAA,GAAAjC,EAAA,mBAErD,kBA7BmB,OAAAJ,EAAAsC,MAAA,KAAAC,UAAA,KA+BdC,EAAe,WACf1C,EAAqBkB,MAAQpB,EAAUoB,MAAMyB,OAAS,GACxD3C,EAAqBkB,OAEzB,E,OAEA0B,EAAAA,EAAAA,KAAU,WACR3C,GACF,I,uuEC5HM4C,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./src/views/user/ExplanationPage.vue","webpack://resep-bunda/./src/views/user/ExplanationPage.vue?0a46"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Pembahasan TO Kedinasan</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content :fullscreen=\"true\" class=\"exam-page\">\r\n      <ion-content class=\"ion-padding\">\r\n        <div v-if=\"currentQuestionIndex < questions.length\">\r\n          <!-- Menampilkan Soal -->\r\n          <ion-card>\r\n            <ion-card-header>\r\n              <ion-card-title>\r\n                <div v-html=\"questions[currentQuestionIndex].question\"></div>\r\n              </ion-card-title>\r\n            </ion-card-header>\r\n            <ion-card-content>\r\n              <div v-if=\"questions[currentQuestionIndex].imageUrl\">\r\n                <ion-img :src=\"questions[currentQuestionIndex].imageUrl\"></ion-img>\r\n              </div>\r\n              <div v-if=\"questions[currentQuestionIndex].videoUrl\">\r\n                <video :src=\"questions[currentQuestionIndex].videoUrl\" controls></video>\r\n              </div>\r\n            </ion-card-content>\r\n          </ion-card>\r\n\r\n          <!-- Menampilkan Semua Pilihan Jawaban -->\r\n          <div class=\"options\">\r\n            <ion-card\r\n              v-for=\"(option, key) in questions[currentQuestionIndex].options\"\r\n              :key=\"key\"\r\n              :class=\"{ \r\n                'correct-answer': key === questions[currentQuestionIndex].correctAnswer,\r\n                'user-answer': key === userAnswers[currentQuestionIndex] \r\n              }\"\r\n            >\r\n              <ion-card-content>{{ option }}</ion-card-content>\r\n            </ion-card>\r\n          </div>\r\n\r\n          <!-- Menampilkan Jawaban Benar, Jawaban User, dan Pembahasan -->\r\n          <div class=\"explanation\">\r\n            <p><strong>Jawaban yang benar:</strong> {{ questions[currentQuestionIndex].options[questions[currentQuestionIndex].correctAnswer] }}</p>\r\n            <p><strong>Jawaban Anda:</strong> {{ questions[currentQuestionIndex].options[userAnswers[currentQuestionIndex]] }}</p>\r\n            <p><strong>Pembahasan:</strong></p>\r\n            <div v-html=\"questions[currentQuestionIndex].explanation\"></div>\r\n          </div>\r\n\r\n          <!-- Tombol Next untuk pindah ke soal berikutnya -->\r\n          <ion-button style=\"color: white\" expand=\"block\" @click=\"nextQuestion\">\r\n            {{ currentQuestionIndex === questions.length - 1 ? \"Selesai\" : \"Soal Berikutnya\" }}\r\n          </ion-button>\r\n        </div>\r\n      </ion-content>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonButton,\r\n  IonBackButton,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonImg,\r\n} from \"@ionic/vue\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport { getFirestore, doc, getDoc, collection, getDocs } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { firebaseApp } from \"../firebase.js\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst auth = getAuth(firebaseApp);\r\nconst route = useRoute();\r\nconst jadwalId = ref(route.params.jadwalId);\r\nconst questions = ref([]);\r\nconst userAnswers = ref([]);\r\nconst currentQuestionIndex = ref(0);\r\n\r\nconst fetchQuestions = async () => {\r\n  try {\r\n    const jadwalDoc = await getDoc(doc(db, \"jadwalkedinasan\", jadwalId.value));\r\n    if (jadwalDoc.exists()) {\r\n      const jadwalData = jadwalDoc.data();\r\n      const questionsSnapshot = await getDocs(collection(db, \"soalkedinasan\"));\r\n      questions.value = questionsSnapshot.docs\r\n        .map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }))\r\n        .filter((question) => jadwalData.soal && jadwalData.soal.includes(question.id));\r\n\r\n      // Ambil jawaban pengguna dari `examResults/answers`\r\n      const user = auth.currentUser;\r\n      if (user) {\r\n        const answersDoc = await getDoc(doc(db, `examResults/${user.uid}/answers`, jadwalId.value));\r\n        if (answersDoc.exists()) {\r\n          userAnswers.value = answersDoc.data().answers || [];\r\n        } else {\r\n          console.error(\"Data jawaban tidak ditemukan.\");\r\n        }\r\n      }\r\n    } else {\r\n      console.error(\"Dokumen jadwal tidak ditemukan di koleksi 'jadwalkedinasan'.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching documents:\", error);\r\n  }\r\n};\r\n\r\nconst nextQuestion = () => {\r\n  if (currentQuestionIndex.value < questions.value.length - 1) {\r\n    currentQuestionIndex.value++;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchQuestions();\r\n});\r\n</script>\r\n\r\n<style>\r\n.exam-page {\r\n  position: relative;\r\n}\r\n.options {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n.options ion-card {\r\n  flex: 1 1 calc(50% - 10px);\r\n  text-align: center;\r\n}\r\n.correct-answer {\r\n  border: 2px solid green;\r\n  background-color: #e6ffe6;\r\n}\r\n.user-answer {\r\n  border: 2px solid blue;\r\n  background-color: #e6f7ff;\r\n}\r\n.explanation {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n}\r\n</style>\r\n","import script from \"./ExplanationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ExplanationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ExplanationPage.vue?vue&type=style&index=0&id=030f0198&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["db","getFirestore","firebaseApp","auth","getAuth","route","useRoute","jadwalId","ref","params","questions","userAnswers","currentQuestionIndex","fetchQuestions","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","jadwalDoc","jadwalData","questionsSnapshot","user","answersDoc","wrap","_context","prev","next","getDoc","doc","value","sent","exists","data","getDocs","collection","docs","map","_objectSpread","id","filter","question","soal","includes","currentUser","concat","uid","answers","console","error","t0","stop","apply","arguments","nextQuestion","length","onMounted","__exports__"],"sourceRoot":""}