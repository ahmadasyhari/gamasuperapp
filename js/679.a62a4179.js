"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[679],{6679:(n,e,a)=>{a.r(e),a.d(e,{default:()=>h});var t=a(124),r=a(3144),u=a(8534),l=(a(1539),a(8783),a(3948),a(1249),a(8309),a(3710),a(2564),a(6252)),o=a(2262),i=a(3577),s=a(86),c=a(6100),d=a(316),f=a(5856),m=function(n){return(0,l.dD)("data-v-78a32f48"),n=n(),(0,l.Cn)(),n},w=m((function(){return(0,l._)("h2",null,"Daftar Hasil Ujian",-1)})),_=m((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Mata Pelajaran"),(0,l._)("th",null,"Nilai"),(0,l._)("th",null,"Tanggal")])],-1)}));const p={__name:"LihatHasilUjian",setup:function(n){var e=(0,c.ad)(f.H),a=(0,d.v0)(f.H),m=(0,o.iH)([]),p=(0,o.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),v=function(){var n=(0,u.Z)((0,t.Z)().mark((function n(){var l,o,i,s;return(0,t.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(l=a.currentUser,!l){n.next=20;break}return n.prev=2,o=(0,c.IO)((0,c.hJ)(e,"examResults/".concat(l.uid,"/results"))),n.next=6,(0,c.PL)(o);case 6:return i=n.sent,n.next=9,Promise.all(i.docs.map(function(){var n=(0,u.Z)((0,t.Z)().mark((function n(a){var u,l,o,i;return(0,t.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=a.data(),console.log("Exam data:",u),n.next=4,(0,c.QT)((0,c.JU)(e,"jadwal",u.jadwalId));case 4:if(l=n.sent,!l.exists()){n.next=12;break}return o=l.data(),console.log("Jadwal data:",o),n.next=10,(0,c.QT)((0,c.JU)(e,"mataPelajaran",o.mataPelajaran));case 10:i=n.sent,i.exists()&&(u.mataPelajaranName=i.data().name,console.log("Mata Pelajaran data:",i.data()));case 12:return n.abrupt("return",(0,r.Z)({id:a.id},u));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 9:s=n.sent,m.value=s,console.log("Hasil ujian:",m.value),n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](2),console.error("Error fetching exam results:",n.t0),h("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 18:n.next=21;break;case 20:h("Pengguna tidak terautentikasi.","danger");case 21:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(){return n.apply(this,arguments)}}(),g=function(n){if(!n)return"N/A";var e=new Date(1e3*n.seconds);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},h=function(n,e){p.value={isOpen:!0,message:n,duration:2e3,color:e}},U=function(n){setTimeout((function(){v(),n.target.complete()}),2e3)};return(0,l.bv)((function(){v()})),function(n,e){var a=(0,l.up)("ion-col"),t=(0,l.up)("ion-row");return(0,l.wg)(),(0,l.j4)((0,o.SU)(s._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l.Wm)((0,o.SU)(s.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(s.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return U(n)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Wo))]})),_:1}),(0,l.Wm)((0,o.SU)(s.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.jY),null,{default:(0,l.w5)((function(){return[(0,l.Wm)(t,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[w,(0,l.Wm)((0,o.SU)(s.q_),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,o.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l._)("table",null,[_,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(function(n){return(0,l.wg)(),(0,l.iD)("tr",{key:n.id},[(0,l._)("td",null,(0,i.zw)(n.mataPelajaranName),1),(0,l._)("td",null,[(0,l.Wm)((0,o.SU)(s.yp),{color:n.score<65?"danger":"success"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,i.zw)(n.score),1)]})),_:2},1032,["color"])]),(0,l._)("td",null,(0,i.zw)(g(n.createdAt)),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,o.SU)(s.Px),{"is-open":p.value.isOpen,message:p.value.message,duration:p.value.duration,color:p.value.color,onDidDismiss:e[1]||(e[1]=function(){return p.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var v=a(3744);const g=(0,v.Z)(p,[["__scopeId","data-v-78a32f48"]]),h=g}}]);
//# sourceMappingURL=679.a62a4179.js.map