"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[6556],{6556:(e,n,a)=>{a.r(n),a.d(n,{default:()=>U});var t=a(124),u=a(8534),l=(a(1249),a(3710),a(2564),a(6252)),r=a(2262),s=a(3577),o=a(3167),i=a(6100),d=a(5856),c=a(4105),f=function(e){return(0,l.dD)("data-v-2e5dee1e"),e=e(),(0,l.Cn)(),e},m=f((function(){return(0,l._)("h2",null,"Daftar Hasil Ujian",-1)})),_=f((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Siswa"),(0,l._)("th",null,"Kelas"),(0,l._)("th",null,"Mata Pelajaran"),(0,l._)("th",null,"Jadwal ID"),(0,l._)("th",null,"Score"),(0,l._)("th",null,"User ID"),(0,l._)("th",null,"Tanggal")])],-1)})),w="0sv6YKJs9wPd8AYK9X12dab89KH3";const h={__name:"LihatNilaiSnbt",setup:function(e){var n=(0,i.ad)(d.H),a=(0,r.iH)([]),f=(0,r.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),h=function(){var e=(0,u.Z)((0,t.Z)().mark((function e(){var u,l;return(0,t.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,i.hJ)(n,"examResults/".concat(w,"/results")),e.next=4,(0,i.PL)(u);case 4:l=e.sent,a.value=l.docs.map((function(e){return{jadwalId:e.data().jadwalId,score:e.data().score,userId:e.data().userId,createdAt:e.data().createdAt,userName:e.data().userName||"Tidak tersedia",kelasName:e.data().kelasName||"Tidak tersedia",mataPelajaranName:e.data().mataPelajaranName||"Tidak tersedia"}})),console.log("Data hasil ujian:",a.value),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error fetching exam results:",e.t0),U("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(e){if(!e)return"N/A";var n=new Date(1e3*e.seconds);return n.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},k=function(){var e=c.P6.json_to_sheet(a.value),n=c.P6.book_new();c.P6.book_append_sheet(n,e,"Hasil Ujian"),c.NC(n,"hasil_ujian.xlsx")},U=function(e,n){f.value={isOpen:!0,message:e,duration:2e3,color:n}},v=function(e){setTimeout((function(){h(),e.target.complete()}),2e3)};return(0,l.bv)((function(){h()})),function(e,n){return(0,l.wg)(),(0,l.j4)((0,r.SU)(o._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil TO Kedinasan")]})),_:1}),(0,l.Wm)((0,r.SU)(o.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,r.SU)(o.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.nJ),{slot:"fixed",onIonRefresh:n[0]||(n[0]=function(e){return v(e)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.Wo))]})),_:1}),(0,l.Wm)((0,r.SU)(o.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.YG),{style:{color:"white"},expand:"block",onClick:k},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Ekspor ke Excel ")]})),_:1}),(0,l.Wm)((0,r.SU)(o.jY),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.wI),null,{default:(0,l.w5)((function(){return[m,(0,l.Wm)((0,r.SU)(o.q_),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,r.SU)(o.Q$),null,{default:(0,l.w5)((function(){return[(0,l._)("table",null,[_,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,(function(e){return(0,l.wg)(),(0,l.iD)("tr",{key:e.jadwalId},[(0,l._)("td",null,(0,s.zw)(e.userName||"Tidak tersedia"),1),(0,l._)("td",null,(0,s.zw)(e.kelasName||"Tidak tersedia"),1),(0,l._)("td",null,(0,s.zw)(e.mataPelajaranName||"Tidak tersedia"),1),(0,l._)("td",null,(0,s.zw)(e.jadwalId),1),(0,l._)("td",null,[(0,l.Wm)((0,r.SU)(o.yp),{color:e.score<65?"danger":"success"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,s.zw)(e.score),1)]})),_:2},1032,["color"])]),(0,l._)("td",null,(0,s.zw)(e.userId),1),(0,l._)("td",null,(0,s.zw)(p(e.createdAt)),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,r.SU)(o.Px),{"is-open":f.value.isOpen,message:f.value.message,duration:f.value.duration,color:f.value.color,onDidDismiss:n[1]||(n[1]=function(){return f.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var p=a(3744);const k=(0,p.Z)(h,[["__scopeId","data-v-2e5dee1e"]]),U=k}}]);
//# sourceMappingURL=6556.f5d9de54.js.map