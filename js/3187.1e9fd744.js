"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[3187],{3187:(n,e,t)=>{t.r(e),t.d(e,{default:()=>S});var a=t(3144),u=t(124),r=t(8534),i=(t(1249),t(9826),t(1539),t(8309),t(7327),t(7658),t(3710),t(2564),t(6252)),l=t(2262),o=t(3577),c=t(86),s=t(2201),d=t(6100),f=t(316),m=t(5856),v=function(n){return(0,i.dD)("data-v-3464ed9e"),n=n(),(0,i.Cn)(),n},w=v((function(){return(0,i._)("br",null,null,-1)})),p=v((function(){return(0,i._)("br",null,null,-1)})),k={style:{color:"whitesmoke"}},U=["innerHTML"];const _={__name:"HalamanMateri",setup:function(n){var e=(0,s.tv)(),t=(0,s.yj)(),v=(0,d.ad)(m.H),_=(0,f.v0)(m.H),h=(0,l.iH)([]),g=(0,l.iH)(""),S=(0,l.iH)([]),W=(0,l.iH)([]),j=(0,l.iH)([]),Z=(0,l.iH)(!1),b=(0,l.iH)(""),x=(0,l.iH)([]),y=(0,l.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),D=(0,l.iH)("materi");(0,i.bv)((0,r.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,H();case 2:return n.next=4,N();case 4:return n.next=6,P();case 6:return n.next=8,L();case 8:return n.next=10,z();case 10:M();case 11:case"end":return n.stop()}}),n)}))));var H=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var e,t;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=_.currentUser,!e){n.next=8;break}return n.next=4,(0,d.QT)((0,d.JU)(v,"users",e.uid));case 4:t=n.sent,t.exists()?g.value=t.data().kelas:A("Kelas pengguna tidak ditemukan.","danger"),n.next=9;break;case 8:A("Pengguna tidak terautentikasi.","danger");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),N=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var e;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,d.PL)((0,d.hJ)(v,"kelas"));case 2:e=n.sent,h.value=e.docs.map((function(n){return(0,a.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var e;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,d.PL)((0,d.hJ)(v,"mataPelajaran"));case 2:e=n.sent,x.value=e.docs.map((function(n){return(0,a.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var e;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.PL)((0,d.hJ)(v,"materi"));case 3:e=n.sent,S.value=e.docs.map((function(n){var e,t,u=n.data();return(0,a.Z)((0,a.Z)({id:n.id},u),{},{className:(null===(e=h.value.find((function(n){return n.id===u["class"]})))||void 0===e?void 0:e.name)||"N/A",subjectName:(null===(t=x.value.find((function(n){return n.id===u.subject})))||void 0===t?void 0:t.name)||"N/A"})})),M(),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("Error fetching materi:",n.t0),A("Terjadi kesalahan saat mengambil data materi.","danger");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),z=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var e,r;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.PL)((0,d.hJ)(v,"jadwal"));case 3:e=n.sent,r=e.docs.map((function(n){var e,t,u=n.data();return(0,a.Z)((0,a.Z)({id:n.id},u),{},{className:(null===(e=h.value.find((function(n){return n.id===u.kelas})))||void 0===e?void 0:e.name)||"N/A",subjectName:(null===(t=x.value.find((function(n){return n.id===u.mataPelajaran})))||void 0===t?void 0:t.name)||"N/A",durasi:u.durasi,tanggalUjian:u.tanggalUjian,soal:u.soal||[],aktif:u.aktif,kelas:u.kelas,mataPelajaran:u.mataPelajaran})})),j.value=r.filter((function(n){var e;return n.className===(null===(e=h.value.find((function(n){return n.id===g.value})))||void 0===e?void 0:e.name)&&n.mataPelajaran===t.params.materiId})),console.log("Filtered Latihan List:",j.value),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error("Error fetching jadwal ujian:",n.t0),A("Terjadi kesalahan saat mengambil data ujian.","danger");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),C=function(n){e.push({name:"halamanujianUser",params:{jadwalId:n.id}})},I=function(n){if(!n)return"N/A";var e;if(n.seconds)e=new Date(1e3*n.seconds);else{if(!("string"===typeof n||n instanceof Date))return"Invalid Date";e=new Date(n)}return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},M=function(){var n=t.params.materiId;W.value=S.value.filter((function(e){return e.subject===n&&e["class"]===g.value}))},J=function(n){b.value=n,Z.value=!0},T=function(){Z.value=!1},O=function(n){setTimeout((function(){L(),z(),M(),n.target.complete()}),2e3)},A=function(n,e){y.value={isOpen:!0,message:n,duration:2e3,color:e}};return function(n,e){var t=(0,i.up)("ion-label");return(0,i.wg)(),(0,i.j4)((0,l.SU)(c._i),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Gu),{mode:"ios"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.sr),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.wd),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Materi dan Latihan")]})),_:1}),(0,i.Wm)((0,l.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(c.W2),{fullscreen:!0},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return O(n)})},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Wo))]})),_:1}),w,p,(0,i.Wm)((0,l.SU)(c.cJ),{modelValue:D.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return D.value=n}),mode:"ios",class:"segment-margin"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.GO),{value:"materi"},{default:(0,i.w5)((function(){return[(0,i.Wm)(t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Materi")]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(c.GO),{value:"latihan"},{default:(0,i.w5)((function(){return[(0,i.Wm)(t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Latihan")]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)((0,l.SU)(c.W2),{class:"ion-padding"},{default:(0,i.w5)((function(){return["materi"===D.value?((0,i.wg)(),(0,i.j4)((0,l.SU)(c.jY),{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Nd),null,{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(W.value,(function(n){return(0,i.wg)(),(0,i.j4)((0,l.SU)(c.wI),{size:"12","size-md":"6",key:n.id},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.PM),{style:{"background-color":"#3b5998"},onClick:function(e){return J(n.content)}},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Dq),{style:{color:"whitesmoke"}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(n.title),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)((0,l.SU)(c.FN),null,{default:(0,i.w5)((function(){return[(0,i._)("p",k,(0,o.zw)(n.subjectName),1)]})),_:2},1024)]})),_:2},1032,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})):(0,i.kq)("",!0),"latihan"===D.value?((0,i.wg)(),(0,i.j4)((0,l.SU)(c.jY),{key:1},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Nd),null,{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(j.value,(function(n){return(0,i.wg)(),(0,i.j4)((0,l.SU)(c.wI),{size:"12","size-md":"6",key:n.id},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.PM),{class:"custom-card",style:{"background-color":"#ffcccb"},onClick:function(e){return C(n)}},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(n.subjectName),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)((0,l.SU)(c.FN),null,{default:(0,i.w5)((function(){return[(0,i._)("p",null,"Kelas: "+(0,o.zw)(n.className),1),(0,i._)("p",null,"Durasi: "+(0,o.zw)(n.durasi)+" Menit",1),(0,i._)("p",null,"Tanggal Ujian: "+(0,o.zw)(I(n.tanggalUjian)),1)]})),_:2},1024)]})),_:2},1032,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})):(0,i.kq)("",!0)]})),_:1}),(0,i.Wm)((0,l.SU)(c.ki),{"is-open":Z.value,onDidDismiss:T},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.Gu),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.sr),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.wd),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Detail Materi")]})),_:1}),(0,i.Wm)((0,l.SU)(c.Sm),{slot:"end"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(c.YG),{onClick:T},{default:(0,i.w5)((function(){return[(0,i.Uk)("Close")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(c.W2),null,{default:(0,i.w5)((function(){return[(0,i._)("div",{innerHTML:b.value},null,8,U)]})),_:1})]})),_:1},8,["is-open"]),(0,i.Wm)((0,l.SU)(c.Px),{"is-open":y.value.isOpen,message:y.value.message,duration:y.value.duration,color:y.value.color,onDidDismiss:e[2]||(e[2]=function(){return y.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var h=t(3744);const g=(0,h.Z)(_,[["__scopeId","data-v-3464ed9e"]]),S=g}}]);
//# sourceMappingURL=3187.1e9fd744.js.map