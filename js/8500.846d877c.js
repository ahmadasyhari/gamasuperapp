"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[8500],{1530:(e,n,r)=>{var t=r(8710).charAt;e.exports=function(e,n,r){return n+(r?t(e,n).length:1)}},1285:(e,n,r)=>{var t=r(7908),a=r(1400),u=r(6244);e.exports=function(e){var n=t(this),r=u(n),l=arguments.length,i=a(l>1?arguments[1]:void 0,r),o=l>2?arguments[2]:void 0,c=void 0===o?r:a(o,r);while(c>i)n[i++]=e;return n}},7007:(e,n,r)=>{r(4916);var t=r(1470),a=r(8052),u=r(2261),l=r(7293),i=r(5112),o=r(8880),c=i("species"),s=RegExp.prototype;e.exports=function(e,n,r,v){var f=i(e),d=!l((function(){var n={};return n[f]=function(){return 7},7!==""[e](n)})),p=d&&!l((function(){var n=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return n=!0,null},r[f](""),!n}));if(!d||!p||r){var g=t(/./[f]),w=n(f,""[e],(function(e,n,r,a,l){var i=t(e),o=n.exec;return o===u||o===s.exec?d&&!l?{done:!0,value:g(n,r,a)}:{done:!0,value:i(r,n,a)}:{done:!1}}));a(String.prototype,e,w[0]),a(s,f,w[1])}v&&o(s[f],"sham",!0)}},647:(e,n,r)=>{var t=r(1702),a=r(7908),u=Math.floor,l=t("".charAt),i=t("".replace),o=t("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,r,t,v,f){var d=r+e.length,p=t.length,g=s;return void 0!==v&&(v=a(v),g=c),i(f,g,(function(a,i){var c;switch(l(i,0)){case"$":return"$";case"&":return e;case"`":return o(n,0,r);case"'":return o(n,d);case"<":c=v[o(i,1,-1)];break;default:var s=+i;if(0===s)return a;if(s>p){var f=u(s/10);return 0===f?a:f<=p?void 0===t[f-1]?l(i,1):t[f-1]+l(i,1):a}c=t[s-1]}return void 0===c?"":c}))}},7651:(e,n,r)=>{var t=r(6916),a=r(9670),u=r(614),l=r(4326),i=r(2261),o=TypeError;e.exports=function(e,n){var r=e.exec;if(u(r)){var c=t(r,e,n);return null!==c&&a(c),c}if("RegExp"===l(e))return t(i,e,n);throw o("RegExp#exec called on incompatible receiver")}},3290:(e,n,r)=>{var t=r(2109),a=r(1285),u=r(1223);t({target:"Array",proto:!0},{fill:a}),u("fill")},6977:(e,n,r)=>{var t=r(2109),a=r(1702),u=r(9303),l=r(863),i=r(8415),o=r(7293),c=RangeError,s=String,v=Math.floor,f=a(i),d=a("".slice),p=a(1..toFixed),g=function(e,n,r){return 0===n?r:n%2===1?g(e,n-1,r*e):g(e*e,n/2,r)},w=function(e){var n=0,r=e;while(r>=4096)n+=12,r/=4096;while(r>=2)n+=1,r/=2;return n},m=function(e,n,r){var t=-1,a=r;while(++t<6)a+=n*e[t],e[t]=a%1e7,a=v(a/1e7)},k=function(e,n){var r=6,t=0;while(--r>=0)t+=e[r],e[r]=v(t/n),t=t%n*1e7},h=function(e){var n=6,r="";while(--n>=0)if(""!==r||0===n||0!==e[n]){var t=s(e[n]);r=""===r?t:r+f("0",7-t.length)+t}return r},U=o((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!o((function(){p({})}));t({target:"Number",proto:!0,forced:U},{toFixed:function(e){var n,r,t,a,i=l(this),o=u(e),v=[0,0,0,0,0,0],p="",U="0";if(o<0||o>20)throw c("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return s(i);if(i<0&&(p="-",i=-i),i>1e-21)if(n=w(i*g(2,69,1))-69,r=n<0?i*g(2,-n,1):i/g(2,n,1),r*=4503599627370496,n=52-n,n>0){m(v,0,r),t=o;while(t>=7)m(v,1e7,0),t-=7;m(v,g(10,t,1),0),t=n-1;while(t>=23)k(v,1<<23),t-=23;k(v,1<<t),m(v,1,1),k(v,2),U=h(v)}else m(v,0,r),m(v,1<<-n,0),U=h(v)+f("0",o);return o>0?(a=U.length,U=p+(a<=o?"0."+f("0",o-a)+U:d(U,0,a-o)+"."+d(U,a-o))):U=p+U,U}})},5306:(e,n,r)=>{var t=r(2104),a=r(6916),u=r(1702),l=r(7007),i=r(7293),o=r(9670),c=r(614),s=r(8554),v=r(9303),f=r(7466),d=r(1340),p=r(4488),g=r(1530),w=r(8173),m=r(647),k=r(7651),h=r(5112),U=h("replace"),x=Math.max,b=Math.min,S=u([].concat),_=u([].push),W=u("".indexOf),y=u("".slice),I=function(e){return void 0===e?e:String(e)},j=function(){return"$0"==="a".replace(/./,"$0")}(),D=function(){return!!/./[U]&&""===/./[U]("a","$0")}(),H=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));l("replace",(function(e,n,r){var u=D?"$":"$0";return[function(e,r){var t=p(this),u=s(e)?void 0:w(e,U);return u?a(u,e,t,r):a(n,d(t),e,r)},function(e,a){var l=o(this),i=d(e);if("string"==typeof a&&-1===W(a,u)&&-1===W(a,"$<")){var s=r(n,l,i,a);if(s.done)return s.value}var p=c(a);p||(a=d(a));var w,h=l.global;h&&(w=l.unicode,l.lastIndex=0);var U,j=[];while(1){if(U=k(l,i),null===U)break;if(_(j,U),!h)break;var D=d(U[0]);""===D&&(l.lastIndex=g(i,f(l.lastIndex),w))}for(var H="",M=0,N=0;N<j.length;N++){U=j[N];for(var G,P=d(U[0]),Z=x(b(v(U.index),i.length),0),B=[],L=1;L<U.length;L++)_(B,I(U[L]));var T=U.groups;if(p){var $=S([P],B,Z,i);void 0!==T&&_($,T),G=d(t(a,void 0,$))}else G=m(P,i,Z,B,T,a);Z>=M&&(H+=y(i,M,Z)+G,M=Z+P.length)}return H+y(i,M)}]}),!H||!j||D)},8500:(e,n,r)=>{r.r(n),r.d(n,{default:()=>N});var t=r(3144),a=r(124),u=r(8534),l=(r(4916),r(5306),r(2222),r(3112),r(6647),r(3710),r(1539),r(9714),r(7327),r(1249),r(6699),r(2023),r(3290),r(2564),r(9554),r(4747),r(7658),r(6977),r(6252)),i=r(2262),o=r(3577),c=r(3167),s=r(6100),v=r(2201),f=r(316),d=r(5856),p={key:0},g=(0,l._)("strong",null,"Skor TPS:",-1),w=(0,l._)("strong",null,"Skor MM:",-1),m=(0,l._)("strong",null,"Skor LBIND:",-1),k=(0,l._)("strong",null,"Skor LBING:",-1),h=(0,l._)("strong",null,"Nilai Rata-Rata:",-1),U={key:0},x={class:"timer-badge"},b=(0,l._)("br",null,null,-1),S=(0,l._)("br",null,null,-1),_=(0,l._)("strong",null,"Jenis Soal:",-1),W=["innerHTML"],y={key:0},I={key:1},j=["src"],D={class:"options"};const H={__name:"UjianDetailSnbt",setup:function(e){var n=(0,s.ad)(d.H),r=(0,f.v0)(d.H),H=(0,v.yj)(),M=(0,v.tv)(),N=(0,i.iH)(H.params.jadwalId),G=(0,i.iH)([]),P=(0,i.iH)(0),Z=(0,i.iH)([]),B=(0,i.iH)(0),L=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),T=(0,i.iH)(0),$=(0,i.iH)(null),C=(0,i.iH)(!1),R=(0,i.iH)(!1),q=(0,i.iH)(!1),z=0,E=function(){console.log("Navigating to Explanation Page with jadwalId:",N.value),M.replace({name:"explanation",params:{jadwalId:N.value}})},A=function(e){var n=Math.floor(e/60),r=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},J=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t,u,l;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=12;break}return e.prev=2,e.next=5,(0,s.QT)((0,s.JU)(n,"examResults/".concat(t.uid,"/results"),N.value));case 5:u=e.sent,u.exists()&&(l=u.data(),B.value={tps:l.scoreTPS,mm:l.scoreMM,lbind:l.scoreLBIND,lbing:l.scoreLBING,average:l.score},C.value=!0,q.value=!0),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error checking exam status:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var u,l,i,o,c;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=r.currentUser,!u){e.next=32;break}if(N.value){e.next=5;break}return console.error("jadwalId is undefined"),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,s.QT)((0,s.JU)(n,"jadwalsnbt",N.value));case 8:if(l=e.sent,!l.exists()){e.next=24;break}return i=l.data(),e.next=13,(0,s.PL)((0,s.hJ)(n,"soalsnbt"));case 13:return o=e.sent,G.value=o.docs.map((function(e){return(0,t.Z)((0,t.Z)({id:e.id},e.data()),{},{jenissoal:e.data().jenissoal})})).filter((function(e){return i.soal&&i.soal.includes(e.id)})),z=60*i.durasi,T.value=z,e.next=19,(0,s.QT)((0,s.JU)(n,"examResults/".concat(u.uid,"/answers"),N.value));case 19:c=e.sent,c.exists()?Z.value=c.data().answers||new Array(G.value.length).fill(""):Z.value=new Array(G.value.length).fill(""),X(),e.next=25;break;case 24:console.error("Dokumen jadwal tidak ditemukan di koleksi 'jadwalsnbt'.");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](5),console.error("Error fetching documents:",e.t0);case 30:e.next=33;break;case 32:console.error("User is not authenticated");case 33:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=12;break}return e.prev=2,e.next=5,(0,s.pl)((0,s.JU)(n,"examResults/".concat(t.uid,"/answers"),N.value),{answers:Z.value,updatedAt:(0,s.Bt)()});case 5:ue("Jawaban disimpan!","success"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),console.error("Error saving answers:",e.t0),ue("Gagal menyimpan jawaban.","danger");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){R.value=!0},K=function(){R.value=!1},Q=function(e){e>=0&&e<G.value.length?(P.value=e,K()):console.error("Invalid question index:",e)},X=function(){$.value=setInterval((function(){T.value>0?T.value--:(clearInterval($.value),ne())}),1e3)},V=function(){P.value=0,Z.value=new Array(G.value.length).fill(""),T.value=z,C.value=!1,clearInterval($.value),X()},ee=function(){P.value<G.value.length-1?P.value++:ne()},ne=function(){re(),q.value=!0,C.value=!0},re=function(){var e=0,n=0,r=0,t=0;G.value.forEach((function(a,u){if(a.correctAnswer===Z.value[u])switch(a.jenissoal){case"TPS":e+=11;break;case"MM":n+=50;break;case"LBIND":r+=40;break;case"LBING":t+=50;break;default:console.error("Jenis soal tidak dikenal: "+a.jenissoal)}}));var a=e+n+r+t,u=a/4||0;B.value={tps:e,mm:n,lbind:r,lbing:t,average:u}},te=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.currentUser,!t){e.next=13;break}return e.prev=2,e.next=5,(0,s.pl)((0,s.JU)(n,"examResults/".concat(t.uid,"/results"),N.value),{userId:t.uid,jadwalId:N.value,scoreTPS:B.value.tps,scoreMM:B.value.mm,scoreLBIND:B.value.lbind,scoreLBING:B.value.lbing,score:B.value.average,createdAt:(0,s.Bt)()});case 5:ue("Nilai berhasil disimpan!","success"),M.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error saving score:",e.t0),ue("Gagal menyimpan nilai.","danger");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),ae=function(e){Z.value[P.value]=e,O()},ue=function(e,n){L.value={isOpen:!0,message:e,duration:2e3,color:n}};(0,l.bv)((function(){J(),F()})),(0,l.m0)((function(){J()}));var le=function(){M.push("/")};return function(e,n){var r=(0,l.up)("center"),t=(0,l.up)("ion-spinner");return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Halaman TO Kedinasan")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0,class:"exam-page"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.PM),{style:{"background-color":"#faf8f2"}},{default:(0,l.w5)((function(){return[G.value.length>0&&!e.loading?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(r,null,{default:(0,l.w5)((function(){return[C.value?((0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:0,class:"ion-text-center"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l._)("p",null,[g,(0,l.Uk)(" "+(0,o.zw)(B.value.tps),1)]),(0,l._)("p",null,[w,(0,l.Uk)(" "+(0,o.zw)(B.value.mm),1)]),(0,l._)("p",null,[m,(0,l.Uk)(" "+(0,o.zw)(B.value.lbind),1)]),(0,l._)("p",null,[k,(0,l.Uk)(" "+(0,o.zw)(B.value.lbing),1)]),(0,l._)("p",null,[h,(0,l.Uk)(" "+(0,o.zw)(void 0!==B.value.average?B.value.average.toFixed(2):"Belum dihitung"),1)]),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"success",onClick:le,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Kembali ke Halaman Utama ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"warning",onClick:V,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" TO Ulang ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",color:"danger",onClick:E,style:{"margin-top":"10px"}},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Lihat Pembahasan ")]})),_:1})]})),_:1})]})),_:1})):(0,l.kq)("",!0)]})),_:1})])):(0,l.kq)("",!0),e.loading?((0,l.wg)(),(0,l.j4)(t,{key:1,name:"crescent"})):(0,l.kq)("",!0)]})),_:1}),!C.value&&P.value<G.value.length?((0,l.wg)(),(0,l.iD)("div",U,[(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:Y},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Pilih Soal ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.PM),null,{default:(0,l.w5)((function(){return[(0,l._)("div",x,[(0,l.Wm)((0,i.SU)(c.yp),{style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(A(T.value)),1)]})),_:1})]),(0,l.Wm)((0,i.SU)(c.Zi),null,{default:(0,l.w5)((function(){return[b,S,(0,l.Wm)(r,null,{default:(0,l.w5)((function(){return[(0,l._)("p",null,[_,(0,l.Uk)(" "+(0,o.zw)(G.value[P.value].jenissoal),1)])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Dq),null,{default:(0,l.w5)((function(){return[(0,l._)("div",{innerHTML:G.value[P.value].question},null,8,W)]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[G.value[P.value].imageUrl?((0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)((0,i.SU)(c.Xz),{src:G.value[P.value].imageUrl},null,8,["src"])])):(0,l.kq)("",!0),G.value[P.value].videoUrl?((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("video",{src:G.value[P.value].videoUrl,controls:""},null,8,j)])):(0,l.kq)("",!0)]})),_:1})]})),_:1}),(0,l._)("div",D,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(G.value[P.value].options,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.PM),{key:n,onClick:function(e){return ae(n)},class:(0,o.C_)({selected:Z.value[P.value]===n})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.FN),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["onClick","class"])})),128))]),(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:ee},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(P.value===G.value.length-1?"Finish":"Next"),1)]})),_:1})])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ge),{"is-open":q.value,header:"Hasil Ujian",message:"\n    <strong>Skor TPS:</strong> ".concat(B.value.tps,"<br>\n    <strong>Skor MM:</strong> ").concat(B.value.mm,"<br>\n    <strong>Skor LBIND:</strong> ").concat(B.value.lbind,"<br>\n    <strong>Skor LBING:</strong> ").concat(B.value.lbing,"<br>\n    <strong>Nilai Rata-Rata:</strong> ").concat(void 0!==B.value.average?B.value.average.toFixed(2):"Belum dihitung","\n  "),buttons:[{text:"OK",handler:te},{text:"Ujian Ulang",handler:V}],onDidDismiss:n[0]||(n[0]=function(){return q.value=!1})},null,8,["is-open","message","buttons"]),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":L.value.isOpen,message:L.value.message,duration:L.value.duration,color:L.value.color,onDidDismiss:n[1]||(n[1]=function(){return L.value.isOpen=!1})},null,8,["is-open","message","duration","color"]),(0,l.Wm)((0,i.SU)(c.ki),{"is-open":R.value,onDidDismiss:K},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Pilih Soal")]})),_:1}),(0,l.Wm)((0,i.SU)(c.Sm),{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.YG),{onClick:K},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tutup")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.q_),null,{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(G.value,(function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.Ie),{key:n,onClick:function(e){return Q(n)}},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Soal "+(0,o.zw)(n+1),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1},8,["is-open"])]})),_:1})]})),_:1})}}},M=H,N=M}}]);
//# sourceMappingURL=8500.846d877c.js.map