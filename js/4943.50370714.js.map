{"version":3,"file":"js/4943.50370714.js","mappings":"oUAiBA,IAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAKC,EAAAA,EAAAA,MAELC,EAAiB,WACrB,IAAMC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,IAAmBF,EAAI,eAAAG,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,EAAOC,GAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAC9BR,EAAM,CAAFM,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GACgBC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIrB,EAAI,QAASW,EAAKW,MAAK,OAA3C,GAAPV,EAAOK,EAAAM,MACTX,EAAQY,SAAU,CAAFP,EAAAE,KAAA,SAGc,GAF1BN,EAAWD,EAAQa,OACnBX,EAAWD,EAASa,KACpBX,EAAYF,EAASc,MAEV,UAAbb,GAAyBC,EAAS,CAAAE,EAAAE,KAAA,SAIjC,OAHHrB,EAAO8B,KAAK,CACVC,KAAM,qBACNC,MAAO,CAAEC,QAAS,aACjBd,EAAAe,OAAA,kBAIY,UAAblB,EACFhB,EAAO8B,KAAK,CAAEK,KAAM,WACE,aAAbnB,EACThB,EAAO8B,KAAK,CAAEK,KAAM,cACE,SAAbnB,EACThB,EAAO8B,KAAK,CAAEK,KAAM,UACE,YAAbnB,EACThB,EAAO8B,KAAK,CAAEK,KAAM,aACE,UAAbnB,EACThB,EAAO8B,KAAK,CAAEK,KAAM,WACE,SAAbnB,EACThB,EAAO8B,KAAK,CAAEK,KAAM,UAEpBnC,EAAO8B,KAAK,CAAEC,KAAM,UACrBZ,EAAAE,KAAA,iBAEDrB,EAAO8B,KAAK,CAAEC,KAAM,UAAW,QAAAZ,EAAAE,KAAA,iBAGjCrB,EAAO8B,KAAK,CAAEC,KAAM,UAAW,yBAAAZ,EAAAiB,OAAA,GAAAxB,EAAA,KAElC,gBAAAyB,GAAA,OAAA7B,EAAA8B,MAAA,KAAAC,UAAA,EArCsB,GAsCzB,E,OAEAC,EAAAA,EAAAA,KAAU,WACRpC,GACF,I,0MC3DMqC,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./src/views/SplashScreen.vue","webpack://resep-bunda/./src/views/SplashScreen.vue?08fe"],"sourcesContent":["<template>\n  <ion-page>\n    <div class=\"splash\">\n      <div class=\"container\">\n        <ion-spinner name=\"dots\" class=\"loader\" />\n      </div>\n    </div>\n  </ion-page>\n</template>\n\n<script setup>\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nimport { onMounted } from \"vue\";\nimport { IonPage, IonSpinner } from \"@ionic/vue\";\nimport { useRouter } from \"vue-router\";\n\nconst router = useRouter();\nconst db = getFirestore();\n\nconst checkAuthState = () => {\n  const auth = getAuth();\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      const userDoc = await getDoc(doc(db, \"users\", user.uid));\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        const userRole = userData.role;\n        const userClass = userData.kelas;\n\n        if (userRole === \"siswa\" && !userClass) {\n          router.push({\n            name: \"halamansettingUser\",\n            query: { message: \"nokelas\" },\n          });\n          return;\n        }\n\n        if (userRole === \"admin\") {\n          router.push({ path: \"/admin\" });\n        } else if (userRole === \"orangtua\") {\n          router.push({ path: \"/orangtua\" });\n        } else if (userRole === \"guru\") {\n          router.push({ path: \"/guru\" });\n        } else if (userRole === \"petugas\") {\n          router.push({ path: \"/petugas\" });\n        } else if (userRole === \"siswa\") {\n          router.push({ path: \"/siswa\" });\n        } else if (userRole === \"umum\") {\n          router.push({ path: \"/umum\" });\n        } else {\n          router.push({ name: \"login\" });\n        }\n      } else {\n        router.push({ name: \"login\" });\n      }\n    } else {\n      router.push({ name: \"login\" });\n    }\n  });\n};\n\nonMounted(() => {\n  checkAuthState();\n});\n</script>\n\n<style>\nion-content.splash {\n  --background: #f5f5f3;\n}\n.splash .container {\n  margin-top: 60%;\n}\n.splash .container img.logo {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  height: 250px;\n  width: 250px;\n  border-radius: 50%;\n  border: 5px solid white;\n}\n.splash h2.titleApp {\n  font-weight: 600;\n  text-align: center;\n  font-size: 2rem;\n  text-shadow: 1px 0px 1px #cccccc, 0px 1px 1px #eeeeee, 2px 1px 1px #cccccc,\n    1px 2px 1px #eeeeee, 3px 2px 1px #cccccc, 2px 3px 1px #eeeeee,\n    4px 3px 1px #cccccc, 3px 4px 1px #eeeeee, 5px 4px 1px #cccccc,\n    4px 5px 1px #eeeeee, 6px 5px 1px #cccccc, 5px 6px 1px #eeeeee,\n    7px 6px 1px #cccccc, 2px 2px 2px rgba(206, 206, 206, 0);\n  color: #444444;\n  margin-top: 0;\n}\n.splash .container .loader {\n  margin-top: -50px;\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n.splash ion-spinner.loader {\n  transform: scale(1.5);\n}\n\n.splash {\n  height: 100vh;\n  background: url(\"@/assets/Splash.png\") no-repeat center center / cover;\n}\n</style>\n","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=73cc957c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","db","getFirestore","checkAuthState","auth","getAuth","onAuthStateChanged","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","userDoc","userData","userRole","userClass","wrap","_context","prev","next","getDoc","doc","uid","sent","exists","data","role","kelas","push","name","query","message","abrupt","path","stop","_x","apply","arguments","onMounted","__exports__"],"sourceRoot":""}