"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[9818],{4362:(e,n,r)=>{var a=r(1589),t=Math.floor,u=function(e,n){var r=e.length,s=t(r/2);return r<8?o(e,n):i(e,u(a(e,0,s),n),u(a(e,s),n),n)},o=function(e,n){var r,a,t=e.length,u=1;while(u<t){a=u,r=e[u];while(a&&n(e[a-1],r)>0)e[a]=e[--a];a!==u++&&(e[a]=r)}return e},i=function(e,n,r,a){var t=n.length,u=r.length,o=0,i=0;while(o<t||i<u)e[o+i]=o<t&&i<u?a(n[o],r[i])<=0?n[o++]:r[i++]:o<t?n[o++]:r[i++];return e};e.exports=u},5117:(e,n,r)=>{var a=r(6330),t=TypeError;e.exports=function(e,n){if(!delete e[n])throw t("Cannot delete property "+a(n)+" of "+a(e))}},8886:(e,n,r)=>{var a=r(8113),t=a.match(/firefox\/(\d+)/i);e.exports=!!t&&+t[1]},256:(e,n,r)=>{var a=r(8113);e.exports=/MSIE|Trident/.test(a)},8008:(e,n,r)=>{var a=r(8113),t=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!t&&+t[1]},2707:(e,n,r)=>{var a=r(2109),t=r(1702),u=r(9662),o=r(7908),i=r(6244),s=r(5117),l=r(1340),c=r(7293),d=r(4362),f=r(2133),h=r(8886),p=r(256),g=r(7392),v=r(8008),w=[],m=t(w.sort),k=t(w.push),_=c((function(){w.sort(void 0)})),j=c((function(){w.sort(null)})),I=f("sort"),b=!c((function(){if(g)return g<70;if(!(h&&h>3)){if(p)return!0;if(v)return v<603;var e,n,r,a,t="";for(e=65;e<76;e++){switch(n=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)w.push({k:n+a,v:r})}for(w.sort((function(e,n){return n.v-e.v})),a=0;a<w.length;a++)n=w[a].k.charAt(0),t.charAt(t.length-1)!==n&&(t+=n);return"DGBEFHACIJK"!==t}})),D=_||!j||!I||!b,S=function(e){return function(n,r){return void 0===r?-1:void 0===n?1:void 0!==e?+e(n,r)||0:l(n)>l(r)?1:-1}};a({target:"Array",proto:!0,forced:D},{sort:function(e){void 0!==e&&u(e);var n=o(this);if(b)return void 0===e?m(n):m(n,e);var r,a,t=[],l=i(n);for(a=0;a<l;a++)a in n&&k(t,n[a]);d(t,S(e)),r=i(t),a=0;while(a<r)n[a]=t[a++];while(a<l)s(n,a++);return n}})},9818:(e,n,r)=>{r.r(n),r.d(n,{default:()=>_});var a=r(124),t=r(6347),u=r(8534),o=(r(2707),r(8783),r(3948),r(2222),r(9554),r(1539),r(4747),r(7658),r(3710),r(6252)),i=r(2262),s=r(3577),l=r(3167),c=r(6100),d=r(5856),f=function(e){return(0,o.dD)("data-v-66cbf8f6"),e=e(),(0,o.Cn)(),e},h=f((function(){return(0,o._)("h2",null,"Daftar Hasil Ujian",-1)})),p=f((function(){return(0,o._)("strong",null,"Sekolah:",-1)})),g=f((function(){return(0,o._)("strong",null,"Skor:",-1)})),v={key:1};const w={__name:"HasilUjianSnbt",props:{jadwalId:String},setup:function(e){var n=e,r=(0,c.ad)(d.H),f=(0,i.iH)([]),w=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),m=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var u,o,i,s,l,d,h,p;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,u="Jf9KAZkky7PJjXGd44vi",o=(0,c.hJ)(r,"users"),i=(0,c.IO)(o,(0,c.ar)("kelas","==",u)),e.next=6,(0,c.PL)(i);case 6:s=e.sent,l=[],console.log("Jumlah pengguna dengan kelasId:",s.size),d=(0,t.Z)(s.docs),e.prev=10,p=(0,a.Z)().mark((function e(){var t,u,o,i,s,d,f,p;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=h.value,u=t.id,o=t.data(),i=o.fullName,s=o.schoolName,console.log("Memproses userId:",u,"Nama:",i),d=(0,c.hJ)(r,"examResults/".concat(u,"/results")),f=(0,c.IO)(d,(0,c.ar)("jadwalId","==",n.jadwalId)),e.next=10,(0,c.PL)(f);case 10:p=e.sent,console.log("Jumlah dokumen hasil untuk userId ".concat(u," dengan jadwalId ").concat(n.jadwalId,":"),p.size),p.forEach((function(e){var n=e.data();console.log("Data hasil ditemukan untuk userId:",u,n),l.push({userId:u,fullName:i,schoolName:s,score:n.score,createdAt:n.createdAt})}));case 13:case"end":return e.stop()}}),e)})),d.s();case 13:if((h=d.n()).done){e.next=17;break}return e.delegateYield(p(),"t0",15);case 15:e.next=13;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](10),d.e(e.t1);case 22:return e.prev=22,d.f(),e.finish(22);case 25:l.sort((function(e,n){return n.score-e.score})),f.value=l,console.log("Data hasil ujian akhir:",l),0===l.length&&k("Tidak ada pengguna yang mengikuti ujian dengan jadwal ID ini.","warning"),e.next=35;break;case 31:e.prev=31,e.t2=e["catch"](0),console.error("Error fetching hasil ujian:",e.t2),k("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 35:case"end":return e.stop()}}),e,null,[[0,31],[10,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),k=function(e,n){w.value={isOpen:!0,message:e,duration:2e3,color:n}},_=function(e){return e>=80?"green":e>=60?"orange":"red"},j=function(e){if(!e)return"N/A";var n=e.toDate?e.toDate():new Date(e);return n.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return(0,o.bv)((function(){m()})),function(e,r){return(0,o.wg)(),(0,o.j4)((0,i.SU)(l._i),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,i.SU)(l.Gu),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,i.SU)(l.sr),null,{default:(0,o.w5)((function(){return[(0,o.Wm)((0,i.SU)(l.wd),null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Hasil Ujian: "+(0,s.zw)(n.jadwalId),1)]})),_:1}),(0,o.Wm)((0,i.SU)(l.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,o.Wm)((0,i.SU)(l.W2),{class:"ion-padding"},{default:(0,o.w5)((function(){return[h,f.value.length>0?((0,o.wg)(),(0,o.j4)((0,i.SU)(l.q_),{key:0},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.value,(function(e,n){return(0,o.wg)(),(0,o.j4)((0,i.SU)(l.Ie),{key:e.userId},{default:(0,o.w5)((function(){return[(0,o.Wm)((0,i.SU)(l.Q$),null,{default:(0,o.w5)((function(){return[(0,o._)("h3",null,(0,s.zw)(n+1)+". "+(0,s.zw)(e.fullName),1),(0,o._)("p",null,[p,(0,o.Uk)(" "+(0,s.zw)(e.schoolName),1)]),(0,o._)("p",null,[g,(0,o._)("span",{style:(0,s.j5)({color:_(e.score)})},(0,s.zw)(e.score),5)]),(0,o._)("p",null,"Dibuat pada: "+(0,s.zw)(j(e.createdAt)),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})):((0,o.wg)(),(0,o.iD)("p",v,"Tidak ada pengguna yang mengikuti ujian dengan jadwal ID ini.")),(0,o.Wm)((0,i.SU)(l.Px),{"is-open":w.value.isOpen,message:w.value.message,duration:w.value.duration,color:w.value.color,onDidDismiss:r[0]||(r[0]=function(){return w.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var m=r(3744);const k=(0,m.Z)(w,[["__scopeId","data-v-66cbf8f6"]]),_=k}}]);
//# sourceMappingURL=9818.dfa5123e.js.map